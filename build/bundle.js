"use strict";
module.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){var n=r(1),o=r(87).default,i=r(95),s=r(111),a=n.createServer(function(e,t){return s.info("Starting SSO Dashboard Extension - Version:","2.4.0"),o(e,t)});e.exports=function(e,t,r){t.x_wt&&t.x_wt.ectx&&t.x_wt.ectx.PUBLIC_WT_URL||!1||i.setValue("PUBLIC_WT_URL",n.urlHelpers.getWebtaskUrl(t)),a(e,t,r)}},function(e,t,r){const n=r(2),o=r(5),i=r(7),s=r(80);e.exports.createServer=n.createServer,e.exports.urlHelpers=o,e.exports.middlewares=i,e.exports.routes=s},function(e,t,r){const n=r(3),o=r(4);e.exports.createServer=function(e){const t=n.createServer(e);var r=null;return o.fromExpress(function(e,n){return r||(r=t(e.webtaskContext)),r(e,n)})}},function(e,t){e.exports=require("auth0-extension-tools@1.3.2")},function(e,t){e.exports=require("webtask-tools")},function(e,t,r){const n=r(6),o=3,i=2,s=1,a=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g;e.exports.getBasePath=function(e){return t=e.originalUrl||"",r=e.path,(o=(o=n.parse(t).pathname||"").replace(r,"").replace(/^\/|\/$/g,"")).startsWith("/")||(o="/"+o),o.endsWith("/")||(o+="/"),o;var t,r,o},e.exports.getBaseUrl=function(e,t){var r=t;const o=n.parse(e.originalUrl||"").pathname||"";return n.format({protocol:r||"https",host:e.headers.host,pathname:o.replace(e.path,"").replace(/\/$/g,"")})},e.exports.getWebtaskUrl=function(e){const t=function(e){if(!e.container)return null;const t=e.container.replace(a,"\\$&"),r=e.jtn?e.jtn.replace(a,"\\$&"):"";if(e.url_format===s)return new RegExp("^/api/run/"+t+"/(?:"+r+"/?)?");if(e.url_format===i)return new RegExp("^/"+t+"/(?:"+r+"/?)?");if(e.url_format===o)return new RegExp("^/(?:"+r+"/?)?");throw new Error("Unsupported webtask URL format.")}(e.x_wt),r=e.url,u=e.url.replace(t,"/"),c=n.parse(u||"").pathname,l=e.x_wt&&e.x_wt.ectx&&e.x_wt.ectx.ISOLATED_DOMAIN||!1,f=n.parse(r||"").pathname||"";var p;if(l){p=n.format({protocol:"https",host:e.headers.host,pathname:f.replace(c,"").replace(/\/$/g,"")});const t=".it.auth0.com/api/run/"+e.x_wt.container+"/",r=function(e,t){if(!e)return null;const r=e.indexOf("sandbox8")>=0?"8":"";return"https://"+t+"."+(e.split(".it.auth0.com")[0].split("-")[1]||"us")+r+".webtask.io/"}(p,e.x_wt.container);p.indexOf(t)>=0&&(p=p.replace("https://"+e.headers.host+"/api/run/"+e.x_wt.container+"/",r))}else p=f;return p}},function(e,t){e.exports=require("url")},function(e,t,r){e.exports.authenticateAdmins=r(8),e.exports.authenticateUsers=r(16),e.exports.requireAuthentication=r(75),e.exports.errorHandler=r(76),e.exports.managementApiClient=r(77),e.exports.validateHookToken=r(78),e.exports.webtaskConfig=r(79)},function(e,t,r){const n=r(9),o=r(12),i=r(3),s=r(13);e.exports=function(e){if(!e||"object"!=typeof e)throw new i.ArgumentError("Must provide the options");if(null===e.secret||void 0===e.secret)throw new i.ArgumentError("Must provide a valid secret");if("string"!=typeof e.secret||0===e.secret.length)throw new i.ArgumentError("The provided secret is invalid: "+e.secret);if(null===e.audience||void 0===e.audience)throw new i.ArgumentError("Must provide a valid secret");if("string"!=typeof e.audience||0===e.audience.length)throw new i.ArgumentError("The provided audience is invalid: "+e.audience);if(null===e.baseUrl||void 0===e.baseUrl)throw new i.ArgumentError("Must provide a valid base URL");if("string"!=typeof e.baseUrl||0===e.baseUrl.length)throw new i.ArgumentError("The provided base URL is invalid: "+e.baseUrl);const t=o({audience:e.audience,issuer:e.baseUrl,secret:e.secret,algorithms:["HS256"],credentialsRequired:e.credentialsRequired||!0});return function(r,n,o){t(r,n,function(t){return t?o(t):e.onLoginSuccess?e.onLoginSuccess(r,n,o):o()})}},e.exports.optional=function(t){const r=e.exports(t);return s(function(e){if(e&&e.headers&&e.headers.authorization&&0===e.headers.authorization.indexOf("Bearer "))try{const r=n(e.headers.authorization.split(" ")[1]);return r&&r.iss===t.baseUrl}catch(e){return!1}return!1},r)}},function(e,t,r){"use strict";var n=r(10);function o(e){this.message=e}o.prototype=new Error,o.prototype.name="InvalidTokenError",e.exports=function(e,t){if("string"!=typeof e)throw new o("Invalid token specified");var r=!0===(t=t||{}).header?0:1;try{return JSON.parse(n(e.split(".")[r]))}catch(e){throw new o("Invalid token specified: "+e.message)}},e.exports.InvalidTokenError=o},function(e,t,r){var n=r(11);e.exports=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(n(e).replace(/(.)/g,function(e,t){var r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}(t)}catch(e){return n(t)}}},function(e,t){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function n(e){this.message=e}n.prototype=new Error,n.prototype.name="InvalidCharacterError",e.exports="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new n("'atob' failed: The string to be decoded is not correctly encoded.");for(var o,i,s=0,a=0,u="";i=t.charAt(a++);~i&&(o=s%4?64*o+i:i,s++%4)?u+=String.fromCharCode(255&o>>(-2*s&6)):0)i=r.indexOf(i);return u}},function(e,t){e.exports=require("express-jwt@3.1.0")},function(e,t,r){"use strict";var n=r(14);e.exports=function(e,t,r){return function(o,i,s){var a=n(s);return!0===e||"function"==typeof e&&e(o,i,a)?t(o,i,a):r?r(o,i,a):a()}}},function(e,t,r){var n=r(15);function o(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function i(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}e.exports=n(o),e.exports.strict=n(i),o.proto=o(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return o(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return i(this)},configurable:!0})})},function(e,t){e.exports=function e(t,r){if(t&&r)return e(t)(r);if("function"!=typeof t)throw new TypeError("need wrapper function");Object.keys(t).forEach(function(e){n[e]=t[e]});return n;function n(){for(var e=new Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];var n=t.apply(this,e),o=e[e.length-1];return"function"==typeof n&&n!==o&&Object.keys(o).forEach(function(e){n[e]=o[e]}),n}}},function(e,t,r){const n=r(9),o=r(12),i=r(17),s=r(3),a=r(13),u=r(3).UnauthorizedError;e.exports=function(e){if(!e||"object"!=typeof e)throw new s.ArgumentError("Must provide the options");if(null===e.domain||void 0===e.domain)throw new s.ArgumentError("Must provide a valid domain");if("string"!=typeof e.domain||0===e.domain.length)throw new s.ArgumentError("The provided domain is invalid: "+e.domain);if(null===e.audience||void 0===e.audience)throw new s.ArgumentError("Must provide a valid audience");if("string"!=typeof e.audience||0===e.audience.length)throw new s.ArgumentError("The provided audience is invalid: "+e.audience);const t=o({secret:i.expressJwtSecret({cache:!0,rateLimit:!0,jwksRequestsPerMinute:5,jwksUri:"https://"+e.domain+"/.well-known/jwks.json",handleSigningKeyError:function(e,t){return e instanceof i.SigningKeyNotFoundError?t(new u("A token was provided with an invalid kid")):t(e)}}),audience:e.audience,issuer:"https://"+e.domain+"/",algorithms:["RS256"],credentialsRequired:e&&e.credentialsRequired||!0});return function(r,n,o){t(r,n,function(t){return t?o(t):e.onLoginSuccess?e.onLoginSuccess(r,n,o):o()})}},e.exports.optional=function(t){const r=e.exports(t);return a(function(e){if(e&&e.headers&&e.headers.authorization&&0===e.headers.authorization.indexOf("Bearer "))try{const r=n(e.headers.authorization.split(" ")[1]);return r&&r.iss==="https://"+t.domain+"/"}catch(e){return!1}return!1},r)}},function(e,t,r){"use strict";var n=r(18),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(68)),i=r(70),s=r(71),a=r(72),u=r(73);e.exports=function(e){return new n.JwksClient(e)},e.exports.ArgumentError=o.ArgumentError,e.exports.JwksError=o.JwksError,e.exports.JwksRateLimitError=o.JwksRateLimitError,e.exports.SigningKeyNotFoundError=o.SigningKeyNotFoundError,e.exports.expressJwtSecret=s.expressJwtSecret,e.exports.hapiJwt2Key=i.hapiJwt2Key,e.exports.hapiJwt2KeyAsync=i.hapiJwt2KeyAsync,e.exports.koaJwtSecret=a.koaJwtSecret,e.exports.passportJwtSecret=u.passportJwtSecret},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JwksClient=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=f(r(19)),s=f(r(20)),a=f(r(55)),u=f(r(56)),c=r(57),l=r(58);function f(e){return e&&e.__esModule?e:{default:e}}t.JwksClient=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getSigningKey=function(e,t){r.logger("Fetching signing key for '"+e+"'"),r.getSigningKeys(function(n,o){if(n)return t(n);var i=void 0!==e&&null!==e;if(!i&&o.length>1)return r.logger("No KID specified and JWKS endpoint returned more than 1 key"),t(new u.default("No KID specified and JWKS endpoint returned more than 1 key"));var s=o.find(function(t){return!i||t.kid===e});return s?t(null,s):(r.logger("Unable to find a signing key that matches '"+e+"'"),t(new u.default("Unable to find a signing key that matches '"+e+"'")))})},this.options=n({rateLimit:!1,cache:!0,timeout:3e4},t),this.logger=(0,i.default)("jwks"),this.options.rateLimit&&(this.getSigningKey=(0,l.rateLimitSigningKey)(this,t)),this.options.cache&&(this.getSigningKey=(0,l.cacheSigningKey)(this,t))}return o(e,[{key:"getKeys",value:function(e){var t=this;this.logger("Fetching keys from '"+this.options.jwksUri+"'"),(0,s.default)({uri:this.options.jwksUri,strictSSL:this.options.strictSsl,headers:this.options.requestHeaders,agentOptions:this.options.requestAgentOptions,proxy:this.options.proxy,timeout:this.options.timeout},function(r,n){if(r){var o=r.response;return t.logger("Failure:",o&&o.data||r),e(o?new a.default(o.data||o.statusText||"Http Error "+o.status):r)}return t.logger("Keys:",n.data.keys),e(null,n.data.keys)})}},{key:"getSigningKeys",value:function(e){var t=this;this.getKeys(function(r,n){if(r)return e(r);if(!n||!n.length)return e(new a.default("The JWKS endpoint did not contain any keys"));var o=n.filter(function(e){return"RSA"===e.kty&&((!e.hasOwnProperty("use")||"sig"===e.use)&&(e.x5c&&e.x5c.length||e.n&&e.e))}).map(function(e){var t={kid:e.kid,nbf:e.nbf};return e.x5c&&e.x5c.length?(t.publicKey=(0,c.certToPEM)(e.x5c[0]),t.getPublicKey=function(){return t.publicKey}):(t.rsaPublicKey=(0,c.rsaPublicKeyToPEM)(e.n,e.e),t.getPublicKey=function(){return t.rsaPublicKey}),t});return o.length?(t.logger("Signing Keys:",o),e(null,o)):e(new a.default("The JWKS endpoint did not contain any signing keys"))})}}]),e}()},function(e,t){e.exports=require("debug@2.2.0")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=function(e,t){var r={baseURL:e.uri,headers:e.headers,timeout:e.timeout};if(e.proxy){var c=a.default.parse(e.proxy),l=c.auth.split(":"),f=o(l,2),p=f[0],d=f[1];r.proxy={host:c.hostname,port:c.port,auth:{username:p,password:d}}}if(e.agentOptions||e.strictSSL){var h=n({},e.strictSSL&&{rejectUnauthorized:e.strictSSL},e.agentOptions);r.httpAgent=new i.default.Agent(h),r.httpsAgent=new s.default.Agent(h)}(0,u.request)(r).then(function(e){return t(null,e)}).catch(function(e){return t(e)})};var i=c(r(21)),s=c(r(22)),a=c(r(6)),u=r(23);function c(e){return e&&e.__esModule?e:{default:e}}},function(e,t){e.exports=require("http")},function(e,t){e.exports=require("https")},function(e,t,r){e.exports=r(24)},function(e,t,r){"use strict";var n=r(25),o=r(26),i=r(27),s=r(51);function a(e){var t=new i(e),r=o(i.prototype.request,t);return n.extend(r,i.prototype,t),n.extend(r,t),r}var u=a(r(33));u.Axios=i,u.create=function(e){return a(s(u.defaults,e))},u.Cancel=r(52),u.CancelToken=r(53),u.isCancel=r(32),u.all=function(e){return Promise.all(e)},u.spread=r(54),e.exports=u,e.exports.default=u},function(e,t,r){"use strict";var n=r(26),o=Object.prototype.toString;function i(e){return"[object Array]"===o.call(e)}function s(e){return void 0===e}function a(e){return null!==e&&"object"==typeof e}function u(e){return"[object Function]"===o.call(e)}function c(e,t){if(null!==e&&void 0!==e)if("object"!=typeof e&&(e=[e]),i(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:i,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isUndefined:s,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:u,isStream:function(e){return a(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function e(){var t={};function r(r,n){"object"==typeof t[n]&&"object"==typeof r?t[n]=e(t[n],r):t[n]=r}for(var n=0,o=arguments.length;n<o;n++)c(arguments[n],r);return t},deepMerge:function e(){var t={};function r(r,n){"object"==typeof t[n]&&"object"==typeof r?t[n]=e(t[n],r):t[n]="object"==typeof r?e({},r):r}for(var n=0,o=arguments.length;n<o;n++)c(arguments[n],r);return t},extend:function(e,t,r){return c(t,function(t,o){e[o]=r&&"function"==typeof t?n(t,r):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,r){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},function(e,t,r){"use strict";var n=r(25),o=r(28),i=r(29),s=r(30),a=r(51);function u(e){this.defaults=e,this.interceptors={request:new i,response:new i}}u.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=a(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[s,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)r=r.then(t.shift(),t.shift());return r},u.prototype.getUri=function(e){return e=a(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],function(e){u.prototype[e]=function(t,r){return this.request(n.merge(r||{},{method:e,url:t}))}}),n.forEach(["post","put","patch"],function(e){u.prototype[e]=function(t,r,o){return this.request(n.merge(o||{},{method:e,url:t,data:r}))}}),e.exports=u},function(e,t,r){"use strict";var n=r(25);function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var i;if(r)i=r(t);else if(n.isURLSearchParams(t))i=t.toString();else{var s=[];n.forEach(t,function(e,t){null!==e&&void 0!==e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),s.push(o(t)+"="+o(e))}))}),i=s.join("&")}if(i){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},function(e,t,r){"use strict";var n=r(25);function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){n.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=o},function(e,t,r){"use strict";var n=r(25),o=r(31),i=r(32),s=r(33);function a(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return a(e),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||s.adapter)(e).then(function(t){return a(e),t.data=o(t.data,t.headers,e.transformResponse),t},function(t){return i(t)||(a(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,r){"use strict";var n=r(25);e.exports=function(e,t,r){return n.forEach(r,function(r){e=r(e,t)}),e}},function(e,t,r){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,r){"use strict";var n=r(25),o=r(34),i={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a,u={adapter:("undefined"!=typeof XMLHttpRequest?a=r(35):"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)&&(a=r(45)),a),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(s(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},n.forEach(["delete","get","head"],function(e){u.headers[e]={}}),n.forEach(["post","put","patch"],function(e){u.headers[e]=n.merge(i)}),e.exports=u},function(e,t,r){"use strict";var n=r(25);e.exports=function(e,t){n.forEach(e,function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])})}},function(e,t,r){"use strict";var n=r(25),o=r(36),i=r(28),s=r(39),a=r(42),u=r(43),c=r(37);e.exports=function(e){return new Promise(function(t,l){var f=e.data,p=e.headers;n.isFormData(f)&&delete p["Content-Type"];var d=new XMLHttpRequest;if(e.auth){var h=e.auth.username||"",g=e.auth.password||"";p.Authorization="Basic "+btoa(h+":"+g)}var m=s(e.baseURL,e.url);if(d.open(e.method.toUpperCase(),i(m,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in d?a(d.getAllResponseHeaders()):null,n={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:r,config:e,request:d};o(t,l,n),d=null}},d.onabort=function(){d&&(l(c("Request aborted",e,"ECONNABORTED",d)),d=null)},d.onerror=function(){l(c("Network Error",e,null,d)),d=null},d.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),l(c(t,e,"ECONNABORTED",d)),d=null},n.isStandardBrowserEnv()){var v=r(44),y=(e.withCredentials||u(m))&&e.xsrfCookieName?v.read(e.xsrfCookieName):void 0;y&&(p[e.xsrfHeaderName]=y)}if("setRequestHeader"in d&&n.forEach(p,function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete p[t]:d.setRequestHeader(t,e)}),n.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),e.responseType)try{d.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){d&&(d.abort(),l(e),d=null)}),void 0===f&&(f=null),d.send(f)})}},function(e,t,r){"use strict";var n=r(37);e.exports=function(e,t,r){var o=r.config.validateStatus;!o||o(r.status)?e(r):t(n("Request failed with status code "+r.status,r.config,null,r.request,r))}},function(e,t,r){"use strict";var n=r(38);e.exports=function(e,t,r,o,i){var s=new Error(e);return n(s,t,r,o,i)}},function(e,t,r){"use strict";e.exports=function(e,t,r,n,o){return e.config=t,r&&(e.code=r),e.request=n,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,r){"use strict";var n=r(40),o=r(41);e.exports=function(e,t){return e&&!n(t)?o(e,t):t}},function(e,t,r){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,r){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,r){"use strict";var n=r(25),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,i,s={};return e?(n.forEach(e.split("\n"),function(e){if(i=e.indexOf(":"),t=n.trim(e.substr(0,i)).toLowerCase(),r=n.trim(e.substr(i+1)),t){if(s[t]&&o.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([r]):s[t]?s[t]+", "+r:r}}),s):s}},function(e,t,r){"use strict";var n=r(25);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=o(window.location.href),function(t){var r=n.isString(t)?o(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},function(e,t,r){"use strict";var n=r(25);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,o,i,s){var a=[];a.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),n.isString(o)&&a.push("path="+o),n.isString(i)&&a.push("domain="+i),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,r){"use strict";var n=r(25),o=r(36),i=r(39),s=r(28),a=r(21),u=r(22),c=r(46).http,l=r(46).https,f=r(6),p=r(49),d=r(50),h=r(37),g=r(38),m=/https:?/;e.exports=function(e){return new Promise(function(t,r){var v=function(e){t(e)},y=function(e){r(e)},b=e.data,w=e.headers;if(w["User-Agent"]||w["user-agent"]||(w["User-Agent"]="axios/"+d.version),b&&!n.isStream(b)){if(Buffer.isBuffer(b));else if(n.isArrayBuffer(b))b=Buffer.from(new Uint8Array(b));else{if(!n.isString(b))return y(h("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",e));b=Buffer.from(b,"utf-8")}w["Content-Length"]=b.length}var x=void 0;e.auth&&(x=(e.auth.username||"")+":"+(e.auth.password||""));var k=i(e.baseURL,e.url),S=f.parse(k),E=S.protocol||"http:";if(!x&&S.auth){var _=S.auth.split(":");x=(_[0]||"")+":"+(_[1]||"")}x&&delete w.Authorization;var A=m.test(E),T=A?e.httpsAgent:e.httpAgent,O={path:s(S.path,e.params,e.paramsSerializer).replace(/^\?/,""),method:e.method.toUpperCase(),headers:w,agent:T,agents:{http:e.httpAgent,https:e.httpsAgent},auth:x};e.socketPath?O.socketPath=e.socketPath:(O.hostname=S.hostname,O.port=S.port);var j,C=e.proxy;if(!C&&!1!==C){var U=E.slice(0,-1)+"_proxy",R=Object({AUTHZ_API_URL:"adf6e2f2b84784b57522e3b19dfc9201/api",NODE_ENV:"production",CLIENT_VERSION:"2.4.0"})[U]||Object({AUTHZ_API_URL:"adf6e2f2b84784b57522e3b19dfc9201/api",NODE_ENV:"production",CLIENT_VERSION:"2.4.0"})[U.toUpperCase()];if(R){var I=f.parse(R),L=Object({AUTHZ_API_URL:"adf6e2f2b84784b57522e3b19dfc9201/api",NODE_ENV:"production",CLIENT_VERSION:"2.4.0"}).no_proxy||Object({AUTHZ_API_URL:"adf6e2f2b84784b57522e3b19dfc9201/api",NODE_ENV:"production",CLIENT_VERSION:"2.4.0"}).NO_PROXY,N=!0;if(L)N=!L.split(",").map(function(e){return e.trim()}).some(function(e){return!!e&&("*"===e||("."===e[0]&&S.hostname.substr(S.hostname.length-e.length)===e||S.hostname===e))});if(N&&(C={host:I.hostname,port:I.port},I.auth)){var P=I.auth.split(":");C.auth={username:P[0],password:P[1]}}}}if(C&&(O.hostname=C.host,O.host=C.host,O.headers.host=S.hostname+(S.port?":"+S.port:""),O.port=C.port,O.path=E+"//"+S.hostname+(S.port?":"+S.port:"")+O.path,C.auth)){var B=Buffer.from(C.auth.username+":"+C.auth.password,"utf8").toString("base64");O.headers["Proxy-Authorization"]="Basic "+B}var q=A&&(!C||m.test(C.protocol));e.transport?j=e.transport:0===e.maxRedirects?j=q?u:a:(e.maxRedirects&&(O.maxRedirects=e.maxRedirects),j=q?l:c),e.maxContentLength&&e.maxContentLength>-1&&(O.maxBodyLength=e.maxContentLength);var M=j.request(O,function(t){if(!M.aborted){var r=t;switch(t.headers["content-encoding"]){case"gzip":case"compress":case"deflate":r=204===t.statusCode?r:r.pipe(p.createUnzip()),delete t.headers["content-encoding"]}var n=t.req||M,i={status:t.statusCode,statusText:t.statusMessage,headers:t.headers,config:e,request:n};if("stream"===e.responseType)i.data=r,o(v,y,i);else{var s=[];r.on("data",function(t){s.push(t),e.maxContentLength>-1&&Buffer.concat(s).length>e.maxContentLength&&(r.destroy(),y(h("maxContentLength size of "+e.maxContentLength+" exceeded",e,null,n)))}),r.on("error",function(t){M.aborted||y(g(t,e,null,n))}),r.on("end",function(){var t=Buffer.concat(s);"arraybuffer"!==e.responseType&&(t=t.toString(e.responseEncoding)),i.data=t,o(v,y,i)})}}});M.on("error",function(t){M.aborted||y(g(t,e,null,M))}),e.timeout&&M.setTimeout(e.timeout,function(){M.abort(),y(h("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",M))}),e.cancelToken&&e.cancelToken.promise.then(function(e){M.aborted||(M.abort(),y(e))}),n.isStream(b)?b.on("error",function(t){y(g(t,e,null,M))}).pipe(M):M.end(b)})}},function(e,t,r){var n=r(6),o=r(21),i=r(22),s=r(47),a=r(48).Writable,u=r(19)("follow-redirects"),c={GET:!0,HEAD:!0,OPTIONS:!0,TRACE:!0},l=Object.create(null);function f(e,t){a.call(this),e.headers=e.headers||{},this._options=e,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],e.host&&(e.hostname||(e.hostname=e.host),delete e.host),t&&this.on("response",t);var r=this;if(this._onNativeResponse=function(e){r._processResponse(e)},!e.pathname&&e.path){var n=e.path.indexOf("?");n<0?e.pathname=e.path:(e.pathname=e.path.substring(0,n),e.search=e.path.substring(n))}this._performRequest()}function p(e){var t={maxRedirects:21,maxBodyLength:10485760},r={};return Object.keys(e).forEach(function(o){var i=o+":",a=r[i]=e[o],c=t[o]=Object.create(a);c.request=function(e,o){return"string"==typeof e?(e=n.parse(e)).maxRedirects=t.maxRedirects:e=Object.assign({protocol:i,maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},e),e.nativeProtocols=r,s.equal(e.protocol,i,"protocol mismatch"),u("options",e),new f(e,o)},c.get=function(e,t){var r=c.request(e,t);return r.end(),r}}),t}["abort","aborted","error","socket","timeout"].forEach(function(e){l[e]=function(t){this._redirectable.emit(e,t)}}),f.prototype=Object.create(a.prototype),f.prototype.write=function(e,t,r){if(!("string"==typeof e||"object"==typeof e&&"length"in e))throw new Error("data should be a string, Buffer or Uint8Array");"function"==typeof t&&(r=t,t=null),0!==e.length?this._requestBodyLength+e.length<=this._options.maxBodyLength?(this._requestBodyLength+=e.length,this._requestBodyBuffers.push({data:e,encoding:t}),this._currentRequest.write(e,t,r)):(this.emit("error",new Error("Request body larger than maxBodyLength limit")),this.abort()):r&&r()},f.prototype.end=function(e,t,r){"function"==typeof e?(r=e,e=t=null):"function"==typeof t&&(r=t,t=null);var n=this._currentRequest;this.write(e||"",t,function(){n.end(null,null,r)})},f.prototype.setHeader=function(e,t){this._options.headers[e]=t,this._currentRequest.setHeader(e,t)},f.prototype.removeHeader=function(e){delete this._options.headers[e],this._currentRequest.removeHeader(e)},["abort","flushHeaders","getHeader","setNoDelay","setSocketKeepAlive","setTimeout"].forEach(function(e){f.prototype[e]=function(t,r){return this._currentRequest[e](t,r)}}),["aborted","connection","socket"].forEach(function(e){Object.defineProperty(f.prototype,e,{get:function(){return this._currentRequest[e]}})}),f.prototype._performRequest=function(){var e=this._options.protocol,t=this._options.nativeProtocols[e];if(t){if(this._options.agents){var r=e.substr(0,e.length-1);this._options.agent=this._options.agents[r]}var o=this._currentRequest=t.request(this._options,this._onNativeResponse);for(var i in this._currentUrl=n.format(this._options),o._redirectable=this,l)i&&o.on(i,l[i]);if(this._isRedirect){var s=0,a=this._requestBodyBuffers;!function e(){if(s<a.length){var t=a[s++];o.write(t.data,t.encoding,e)}else o.end()}()}}else this.emit("error",new Error("Unsupported protocol "+e))},f.prototype._processResponse=function(e){this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:e.headers,statusCode:e.statusCode});var t=e.headers.location;if(t&&!1!==this._options.followRedirects&&e.statusCode>=300&&e.statusCode<400){if(++this._redirectCount>this._options.maxRedirects)return void this.emit("error",new Error("Max redirects exceeded."));var r,o=this._options.headers;if(307!==e.statusCode&&!(this._options.method in c))for(r in this._options.method="GET",this._requestBodyBuffers=[],o)/^content-/i.test(r)&&delete o[r];if(!this._isRedirect)for(r in o)/^host$/i.test(r)&&delete o[r];var i=n.resolve(this._currentUrl,t);u("redirecting to",i),Object.assign(this._options,n.parse(i)),this._isRedirect=!0,this._performRequest(),e.destroy()}else e.responseUrl=this._currentUrl,e.redirects=this._redirects,this.emit("response",e),this._requestBodyBuffers=[]},e.exports=p({http:o,https:i}),e.exports.wrap=p},function(e,t){e.exports=require("assert")},function(e,t){e.exports=require("stream")},function(e,t){e.exports=require("zlib")},function(e){e.exports=JSON.parse('{"_from":"axios@^0.19.2","_id":"axios@0.19.2","_inBundle":false,"_integrity":"sha512-fjgm5MvRHLhx+osE2xoekY70AhARk3a6hkN+3Io1jc00jtquGvxYlKlsFUhmUET0V5te6CcZI7lcv2Ym61mjHA==","_location":"/jwks-rsa/axios","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"axios@^0.19.2","name":"axios","escapedName":"axios","rawSpec":"^0.19.2","saveSpec":null,"fetchSpec":"^0.19.2"},"_requiredBy":["/jwks-rsa"],"_resolved":"https://registry.npmjs.org/axios/-/axios-0.19.2.tgz","_shasum":"3ea36c5d8818d0d5f8a8a97a6d36b86cdc00cb27","_spec":"axios@^0.19.2","_where":"/Users/danbaker/workspace/auth0-sso-dashboard-extension/node_modules/jwks-rsa","author":{"name":"Matt Zabriskie"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"bugs":{"url":"https://github.com/axios/axios/issues"},"bundleDependencies":false,"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}],"dependencies":{"follow-redirects":"1.5.10"},"deprecated":false,"description":"Promise based HTTP client for the browser and node.js","devDependencies":{"bundlesize":"^0.17.0","coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.0.2","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^20.1.0","grunt-karma":"^2.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^1.0.18","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^1.3.0","karma-chrome-launcher":"^2.2.0","karma-coverage":"^1.1.1","karma-firefox-launcher":"^1.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-opera-launcher":"^1.0.0","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^1.2.0","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.7","karma-webpack":"^1.7.0","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^5.2.0","sinon":"^4.5.0","typescript":"^2.8.1","url-search-params":"^0.10.0","webpack":"^1.13.1","webpack-dev-server":"^1.14.1"},"homepage":"https://github.com/axios/axios","keywords":["xhr","http","ajax","promise","node"],"license":"MIT","main":"index.js","name":"axios","repository":{"type":"git","url":"git+https://github.com/axios/axios.git"},"scripts":{"build":"NODE_ENV=production grunt build","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","examples":"node ./examples/server.js","fix":"eslint --fix lib/**/*.js","postversion":"git push && git push --tags","preversion":"npm test","start":"node ./sandbox/server.js","test":"grunt test && bundlesize","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"},"typings":"./index.d.ts","version":"0.19.2"}')},function(e,t,r){"use strict";var n=r(25);e.exports=function(e,t){t=t||{};var r={},o=["url","method","params","data"],i=["headers","auth","proxy"],s=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];n.forEach(o,function(e){void 0!==t[e]&&(r[e]=t[e])}),n.forEach(i,function(o){n.isObject(t[o])?r[o]=n.deepMerge(e[o],t[o]):void 0!==t[o]?r[o]=t[o]:n.isObject(e[o])?r[o]=n.deepMerge(e[o]):void 0!==e[o]&&(r[o]=e[o])}),n.forEach(s,function(n){void 0!==t[n]?r[n]=t[n]:void 0!==e[n]&&(r[n]=e[n])});var a=o.concat(i).concat(s),u=Object.keys(t).filter(function(e){return-1===a.indexOf(e)});return n.forEach(u,function(n){void 0!==t[n]?r[n]=t[n]:void 0!==e[n]&&(r[n]=e[n])}),r}},function(e,t,r){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},function(e,t,r){"use strict";var n=r(52);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var r=this;e(function(e){r.reason||(r.reason=new n(e),t(r.reason))})}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o(function(t){e=t}),cancel:e}},e.exports=o},function(e,t,r){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,r){"use strict";function n(e){Error.call(this,e),Error.captureStackTrace(this,this.constructor),this.name="JwksError",this.message=e}n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,e.exports=n},function(e,t,r){"use strict";function n(e){Error.call(this,e),Error.captureStackTrace(this,this.constructor),this.name="SigningKeyNotFoundError",this.message=e}n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,e.exports=n},function(e,t,r){"use strict";function n(e){var t=e[0];return t<"0"||t>"7"?"00"+e:e}function o(e){var t=e.toString(16);return t.length%2?"0"+t:t}function i(e){if(e<=127)return o(e);var t=o(e);return o(128+t.length/2)+t}Object.defineProperty(t,"__esModule",{value:!0}),t.certToPEM=function(e){return e="-----BEGIN CERTIFICATE-----\n"+(e=e.match(/.{1,64}/g).join("\n"))+"\n-----END CERTIFICATE-----\n"},t.rsaPublicKeyToPEM=function(e,t){var r=new Buffer(e,"base64"),o=new Buffer(t,"base64"),s=n(r.toString("hex")),a=n(o.toString("hex")),u=s.length/2,c=a.length/2,l=i(u),f=i(c),p="30"+i(u+c+l.length/2+f.length/2+2)+"02"+l+s+"02"+f+a,d=new Buffer(p,"hex").toString("base64"),h="-----BEGIN RSA PUBLIC KEY-----\n";return h+=""+d.match(/.{1,64}/g).join("\n"),h+="\n-----END RSA PUBLIC KEY-----\n"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rateLimitSigningKey=t.cacheSigningKey=void 0;var n=i(r(59)),o=i(r(62));function i(e){return e&&e.__esModule?e:{default:e}}t.cacheSigningKey=n.default,t.rateLimitSigningKey=o.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:options,r=t.cacheMaxEntries,s=void 0===r?5:r,a=t.cacheMaxAge,u=void 0===a?(0,n.default)("10m"):a,c=(0,o.default)("jwks"),l=e.getSigningKey;return c("Configured caching of singing keys. Max: "+s+" / Age: "+u),(0,i.default)({load:function(e,t){l(e,function(r,n){return r?t(r):(c("Caching signing key for '"+e+"':",n),t(null,n))})},hash:function(e){return e},maxAge:u,max:s})};var n=s(r(60)),o=s(r(19)),i=s(r(61));function s(e){return e&&e.__esModule?e:{default:e}}},function(e,t){e.exports=require("ms@0.7.1")},function(e,t){e.exports=require("lru-memoizer@1.10.0")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:options).jwksRequestsPerMinute,r=void 0===t?10:t,s=(0,n.default)("jwks"),a=e.getSigningKey,u=new o.RateLimiter(r,"minute",!0);return s("Configured rate limiting to JWKS endpoint at "+r+"/minute"),function(e,t){u.removeTokens(1,function(r,n){return r?t(r):(s("Requests to the JWKS endpoint available for the next minute:",n),n<0?(s("Too many requests to the JWKS endpoint"),t(new i.default("Too many requests to the JWKS endpoint"))):a(e,t))})}};var n=s(r(19)),o=r(63),i=s(r(67));function s(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){t.RateLimiter=r(64),t.TokenBucket=r(65)},function(e,t,r){var n=r(65),o=r(66),i=function(e,t,r){this.tokenBucket=new n(e,e,t,null),this.tokenBucket.content=e,this.curIntervalStart=o(),this.tokensThisInterval=0,this.fireImmediately=r};i.prototype={tokenBucket:null,curIntervalStart:0,tokensThisInterval:0,fireImmediately:!1,removeTokens:function(e,t){if(e>this.tokenBucket.bucketSize)return process.nextTick(t.bind(null,"Requested tokens "+e+" exceeds maximum tokens per interval "+this.tokenBucket.bucketSize,null)),!1;var r=this,n=o();if((n<this.curIntervalStart||n-this.curIntervalStart>=this.tokenBucket.interval)&&(this.curIntervalStart=n,this.tokensThisInterval=0),e>this.tokenBucket.tokensPerInterval-this.tokensThisInterval){if(this.fireImmediately)process.nextTick(t.bind(null,null,-1));else{var i=Math.ceil(this.curIntervalStart+this.tokenBucket.interval-n);setTimeout(function(){r.tokenBucket.removeTokens(e,s)},i)}return!1}return this.tokenBucket.removeTokens(e,s);function s(n,o){if(n)return t(n,null);r.tokensThisInterval+=e,t(null,o)}},tryRemoveTokens:function(e){if(e>this.tokenBucket.bucketSize)return!1;var t=o();if((t<this.curIntervalStart||t-this.curIntervalStart>=this.tokenBucket.interval)&&(this.curIntervalStart=t,this.tokensThisInterval=0),e>this.tokenBucket.tokensPerInterval-this.tokensThisInterval)return!1;var r=this.tokenBucket.tryRemoveTokens(e);return r&&(this.tokensThisInterval+=e),r},getTokensRemaining:function(){return this.tokenBucket.drip(),this.tokenBucket.content}},e.exports=i},function(e,t){var r=function(e,t,r,n){if(this.bucketSize=e,this.tokensPerInterval=t,"string"==typeof r)switch(r){case"sec":case"second":this.interval=1e3;break;case"min":case"minute":this.interval=6e4;break;case"hr":case"hour":this.interval=36e5;break;case"day":this.interval=864e5;break;default:throw new Error("Invaid interval "+r)}else this.interval=r;this.parentBucket=n,this.content=0,this.lastDrip=+new Date};r.prototype={bucketSize:1,tokensPerInterval:1,interval:1e3,parentBucket:null,content:0,lastDrip:0,removeTokens:function(e,t){var r=this;return this.bucketSize?e>this.bucketSize?(process.nextTick(t.bind(null,"Requested tokens "+e+" exceeds bucket size "+this.bucketSize,null)),!1):(this.drip(),e>this.content?n():this.parentBucket?this.parentBucket.removeTokens(e,function(o,i){return o?t(o,null):e>r.content?n():(r.content-=e,void t(null,Math.min(i,r.content)))}):(this.content-=e,process.nextTick(t.bind(null,null,this.content)),!0)):(process.nextTick(t.bind(null,null,e,Number.POSITIVE_INFINITY)),!0);function n(){var n=Math.ceil((e-r.content)*(r.interval/r.tokensPerInterval));return setTimeout(function(){r.removeTokens(e,t)},n),!1}},tryRemoveTokens:function(e){return!this.bucketSize||!(e>this.bucketSize)&&(this.drip(),!(e>this.content)&&(!(this.parentBucket&&!this.parentBucket.tryRemoveTokens(e))&&(this.content-=e,!0)))},drip:function(){if(this.tokensPerInterval){var e=+new Date,t=Math.max(e-this.lastDrip,0);this.lastDrip=e;var r=t*(this.tokensPerInterval/this.interval);this.content=Math.min(this.content+r,this.bucketSize)}else this.content=this.bucketSize}},e.exports=r},function(e,t){e.exports=function(){if("undefined"!=typeof process&&process.hrtime){var e=process.hrtime(),t=e[0],r=e[1];return 1e3*t+Math.floor(r/1e6)}return(new Date).getTime()}},function(e,t,r){"use strict";function n(e){Error.call(this,e),Error.captureStackTrace(this,this.constructor),this.name="JwksRateLimitError",this.message=e}n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,e.exports=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SigningKeyNotFoundError=t.JwksRateLimitError=t.JwksError=t.ArgumentError=void 0;var n=a(r(69)),o=a(r(55)),i=a(r(67)),s=a(r(56));function a(e){return e&&e.__esModule?e:{default:e}}t.ArgumentError=n.default,t.JwksError=o.default,t.JwksRateLimitError=i.default,t.SigningKeyNotFoundError=s.default},function(e,t,r){"use strict";function n(e){Error.call(this,e),Error.captureStackTrace(this,this.constructor),this.name="ArgumentError",this.message=e}n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,e.exports=n},function(e,t,r){"use strict";var n=r(68),o=r(18),i=function(e,t){return e&&"SigningKeyNotFoundError"===e.name?t(e,null,null):e?t(e,null,null):void 0};e.exports.hapiJwt2KeyAsync=function(t){var r=e.exports.hapiJwt2Key(t);return function(e){return new Promise(function(t,n){r(e,function(e,r){!r||e?n(e):t({key:r})})})}},e.exports.hapiJwt2Key=function(e){if(null===e||void 0===e)throw new n.ArgumentError("An options object must be provided when initializing hapiJwt2Key");var t=new o.JwksClient(e),r=e.handleSigningKeyError||i;return function(e,n){return e&&e.header?"RS256"!==e.header.alg?n(new Error("Unsupported algorithm "+e.header.alg+" supplied. node-jwks-rsa supports only RS256"),null,null):void t.getSigningKey(e.header.kid,function(e,t){return e?r(e,function(e){return n(e,null,null)}):n(null,t.publicKey||t.rsaPublicKey,t)}):n(new Error("Cannot find a signing certificate if there is no header"),null,null)}}},function(e,t,r){"use strict";var n=r(68),o=r(18),i=function(e,t){return e&&"SigningKeyNotFoundError"===e.name?t(null):e?t(e):void 0};e.exports.expressJwtSecret=function(e){if(null===e||void 0===e)throw new n.ArgumentError("An options object must be provided when initializing expressJwtSecret");var t=new o.JwksClient(e),r=e.handleSigningKeyError||i;return function(e,n,o,i){if(!n||"RS256"!==n.alg)return i(null,null);t.getSigningKey(n.kid,function(e,t){return e?r(e,function(e){return i(e,null)}):i(null,t.publicKey||t.rsaPublicKey)})}}},function(e,t,r){"use strict";var n=r(68),o=r(18);e.exports.koaJwtSecret=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.jwksUri)throw new n.ArgumentError("No JWKS URI provided");var t=new o.JwksClient(e);return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.alg,o=r.kid;return new Promise(function(r,i){if("RS256"!==n)return i(new Error("Missing / invalid token algorithm"));t.getSigningKey(o,function(t,n){if(t)return e.handleSigningKeyError?e.handleSigningKeyError(t).then(i):i(t);r(n.publicKey||n.rsaPublicKey)})})}}},function(e,t,r){"use strict";var n,o=r(74),i=(n=o)&&n.__esModule?n:{default:n},s=r(68),a=r(18);var u=function(e,t){return e&&"SigningKeyNotFoundError"===e.name?t(null):e?t(e):void 0};e.exports.passportJwtSecret=function(e){if(null===e||void 0===e)throw new s.ArgumentError("An options object must be provided when initializing passportJwtSecret");var t=new a.JwksClient(e),r=e.handleSigningKeyError||u;return function(e,n,o){var s=i.default.decode(n,{complete:!0});if(!s||!s.header||"RS256"!==s.header.alg)return o(null,null);t.getSigningKey(s.header.kid,function(e,t){return e?r(e,function(e){return o(e,null)}):o(null,t.publicKey||t.rsaPublicKey)})}}},function(e,t){e.exports=require("jsonwebtoken@7.1.9")},function(e,t,r){const n=r(3).UnauthorizedError;e.exports=function(e,t,r){return e.user?r():r(new n("Authentication required for this endpoint."))}},function(e,t,r){e.exports=function(e){return function(t,r,n,o){return e&&e(t),t&&t.status?(n.status(t.status),n.json({error:t.code||t.name,message:t.message||t.name})):(n.status(t.status||500),n.json({error:"InternalServerError",message:t.message||t.name}))}}},function(e,t,r){const n=r(3);e.exports=function(e){return function(t,r,o){const i=t,s=t.user&&t.user.access_token&&t.user.access_token.length?{domain:e.domain,accessToken:t.user.access_token,headers:e.headers}:e;n.managementApi.getClient(s).then(function(e){return i.auth0=e,o(),null}).catch(function(e){o(e)})}}},function(e,t,r){const n=r(3);e.exports=function(e,t,r){if(null===e||void 0===e)throw new n.ArgumentError("Must provide the domain");if("string"!=typeof e||0===e.length)throw new n.ArgumentError("The provided domain is invalid: "+e);if(null===t||void 0===t)throw new n.ArgumentError("Must provide the webtaskUrl");if("string"!=typeof t||0===t.length)throw new n.ArgumentError("The provided webtaskUrl is invalid: "+t);if(null===r||void 0===r)throw new n.ArgumentError("Must provide the extensionSecret");if("string"!=typeof r||0===r.length)throw new n.ArgumentError("The provided extensionSecret is invalid: "+r);return function(o){if(null===o||void 0===o)throw new n.ArgumentError("Must provide the hookPath");if("string"!=typeof o||0===o.length)throw new n.ArgumentError("The provided hookPath is invalid: "+o);return function(i,s,a){if(i.headers.authorization&&"Bearer"===i.headers.authorization.split(" ")[0]){const s=i.headers.authorization.split(" ")[1];try{if(n.validateHookToken(e,t,o,r,s))return a()}catch(e){return a(e)}}return a(new n.HookTokenError("Hook token missing for the call to: "+o))}}}},function(e,t,r){const n=r(3);e.exports=function(e){return function(t,r,o){return t.webtaskContext&&e.setProvider(n.configProvider.fromWebtaskContext(t.webtaskContext)),o()}}},function(e,t,r){e.exports.dashboardAdmins=r(81)},function(e,t,r){const n=r(82),o=r(83),i=r(84),s=r(74),a=r(3),u=r(5);e.exports=function(e){if(!e||"object"!=typeof e)throw new a.ArgumentError("Must provide the options");if(null===e.secret||void 0===e.secret)throw new a.ArgumentError("Must provide a valid secret");if("string"!=typeof e.secret||0===e.secret.length)throw new a.ArgumentError("The provided secret is invalid: "+e.secret);if(null===e.audience||void 0===e.audience)throw new a.ArgumentError("Must provide a valid audience");if("string"!=typeof e.audience||0===e.audience.length)throw new a.ArgumentError("The provided audience is invalid: "+e.audience);if(null===e.rta||void 0===e.rta)throw new a.ArgumentError("Must provide a valid rta");if("string"!=typeof e.rta||0===e.rta.length)throw new a.ArgumentError("The provided rta is invalid: "+e.rta);if(null===e.domain||void 0===e.domain)throw new a.ArgumentError("Must provide a valid domain");if("string"!=typeof e.domain||0===e.domain.length)throw new a.ArgumentError("The provided domain is invalid: "+e.domain);if(null===e.baseUrl||void 0===e.baseUrl)throw new a.ArgumentError("Must provide a valid base URL");if("string"!=typeof e.baseUrl||0===e.baseUrl.length)throw new a.ArgumentError("The provided base URL is invalid: "+e.baseUrl);if(null===e.clientName||void 0===e.clientName)throw new a.ArgumentError("Must provide a valid client name");if("string"!=typeof e.clientName||0===e.clientName.length)throw new a.ArgumentError("The provided client name is invalid: "+e.clientName);if(void 0!==e.storageType&&"sessionStorage"!==e.storageType&&"localStorage"!==e.storageType)throw new a.ArgumentError('The storageType must be either "sessionStorage" or "localStorage". Incorrect storageType: '+e.storageType);const t=e.stateKey||"state",r=e.nonceKey||"nonce",c=e.urlPrefix||"",l=e.storageType||"sessionStorage",f=e.storageKey||e.sessionStorageKey||"apiToken",p=new a.SessionManager(e.rta,e.domain,e.baseUrl),d=n.Router();return d.get(c+"/login",function(n,i){const s=u.getBasePath(n),a=o.randomBytes(16).toString("hex"),l=o.randomBytes(16).toString("hex"),f={httpOnly:!0,path:s};i.cookie(t,a,Object.assign({},f,{sameSite:"None",secure:!0})),i.cookie(r,l,Object.assign({},f,{sameSite:"None",secure:!0})),i.cookie(t+"_compat",a,f),i.cookie(r+"_compat",l,f);const d=p.createAuthorizeUrl({redirectUri:u.getBaseUrl(n)+c+"/login/callback",scopes:e.scopes,expiration:e.expiration,nonce:l,state:a});i.redirect(d)}),d.post(c+"/login/callback",i(),function(n,o,i){var c;try{c=s.decode(n.body.id_token)}catch(e){c=null}if(!c)return i(new a.ValidationError("Login failed. Invalid token."));if(n.cookies&&n.cookies[r]&&n.cookies[r]!==c.nonce||n.cookies&&n.cookies[r+"_compat"]&&n.cookies[r+"_compat"]!==c.nonce)return i(new a.ValidationError("Login failed. Nonce mismatch."));if(n.cookies&&n.cookies[t]&&n.cookies[t]!==n.body.state||n.cookies&&n.cookies[t+"_compat"]&&n.cookies[t+"_compat"]!==n.body.state)return i(new a.ValidationError("Login failed. State mismatch."));const d=u.getBasePath(n);return p.create(n.body.id_token,n.body.access_token,{secret:e.secret,issuer:e.baseUrl,audience:e.audience,noAccessToken:e.noAccessToken}).then(function(e){o.clearCookie(t,{path:d}),o.clearCookie(r,{path:d}),o.clearCookie(t+"_compat",{path:d}),o.clearCookie(r+"_compat",{path:d}),o.header("Content-Type","text/html"),o.status(200).send('<html><head><script type="text/javascript">'+l+'.setItem("'+f+'", "'+e+'");window.location.href = "'+u.getBaseUrl(n)+'";<\/script></head></html>')}).catch(function(e){i(e)})}),d.get(c+"/logout",function(n,o){const i=u.getBasePath(n),s=encodeURIComponent(u.getBaseUrl(n));o.clearCookie(t,{path:i}),o.clearCookie(r,{path:i}),o.clearCookie(t+"_compat",{path:i}),o.clearCookie(r+"_compat",{path:i}),o.header("Content-Type","text/html"),o.status(200).send('<html><head><script type="text/javascript">'+l+'.removeItem("'+f+'");window.location.href = "https://'+e.rta+"/v2/logout/?returnTo="+s+"&client_id="+s+'";<\/script></head></html>')}),d.get("/.well-known/oauth2-client-configuration",function(t,r){r.header("Content-Type","application/json"),r.status(200).send({redirect_uris:[u.getBaseUrl(t)+c+"/login/callback"],client_name:e.clientName,post_logout_redirect_uris:[u.getBaseUrl(t)]})}),d}},function(e,t){e.exports=require("express@4.12.4")},function(e,t){e.exports=require("crypto")},function(e,t,r){"use strict";var n=r(85),o=r(86);function i(e){if("string"==typeof e&&"j:"===e.substr(0,2))try{return JSON.parse(e.slice(2))}catch(e){return}}function s(e){for(var t,r,n=Object.keys(e),o=0;o<n.length;o++)(r=i(e[t=n[o]]))&&(e[t]=r);return e}function a(e,t){if("string"==typeof e){if("s:"!==e.substr(0,2))return e;for(var r=!t||Array.isArray(t)?t||[]:[t],n=0;n<r.length;n++){var i=o.unsign(e.slice(2),r[n]);if(!1!==i)return i}return!1}}function u(e,t){for(var r,n,o,i=Object.keys(e),s=Object.create(null),u=0;u<i.length;u++)(o=e[n=i[u]])!==(r=a(o,t))&&(s[n]=r,delete e[n]);return s}e.exports=function(e,t){var r=!e||Array.isArray(e)?e||[]:[e];return function(e,o,i){if(e.cookies)return i();var a=e.headers.cookie;if(e.secret=r[0],e.cookies=Object.create(null),e.signedCookies=Object.create(null),!a)return i();e.cookies=n.parse(a,t),0!==r.length&&(e.signedCookies=u(e.cookies,r),e.signedCookies=s(e.signedCookies)),e.cookies=s(e.cookies),i()}},e.exports.JSONCookie=i,e.exports.JSONCookies=s,e.exports.signedCookie=a,e.exports.signedCookies=u},function(e,t,r){"use strict";t.parse=function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var r={},o=t||{},s=e.split(i),u=o.decode||n,c=0;c<s.length;c++){var l=s[c],f=l.indexOf("=");if(!(f<0)){var p=l.substr(0,f).trim(),d=l.substr(++f,l.length).trim();'"'==d[0]&&(d=d.slice(1,-1)),void 0==r[p]&&(r[p]=a(d,u))}}return r},t.serialize=function(e,t,r){var n=r||{},i=n.encode||o;if("function"!=typeof i)throw new TypeError("option encode is invalid");if(!s.test(e))throw new TypeError("argument name is invalid");var a=i(t);if(a&&!s.test(a))throw new TypeError("argument val is invalid");var u=e+"="+a;if(null!=n.maxAge){var c=n.maxAge-0;if(isNaN(c))throw new Error("maxAge should be a Number");u+="; Max-Age="+Math.floor(c)}if(n.domain){if(!s.test(n.domain))throw new TypeError("option domain is invalid");u+="; Domain="+n.domain}if(n.path){if(!s.test(n.path))throw new TypeError("option path is invalid");u+="; Path="+n.path}if(n.expires){if("function"!=typeof n.expires.toUTCString)throw new TypeError("option expires is invalid");u+="; Expires="+n.expires.toUTCString()}n.httpOnly&&(u+="; HttpOnly");n.secure&&(u+="; Secure");if(n.sameSite){var l="string"==typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite;switch(l){case!0:u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"strict":u+="; SameSite=Strict";break;case"none":u+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return u};var n=decodeURIComponent,o=encodeURIComponent,i=/; */,s=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function a(e,t){try{return t(e)}catch(t){return e}}},function(e,t,r){var n=r(83);function o(e){return n.createHash("sha1").update(e).digest("hex")}t.sign=function(e,t){if("string"!=typeof e)throw new TypeError("Cookie value must be provided as a string.");if("string"!=typeof t)throw new TypeError("Secret string must be provided.");return e+"."+n.createHmac("sha256",t).update(e).digest("base64").replace(/\=+$/,"")},t.unsign=function(e,r){if("string"!=typeof e)throw new TypeError("Signed cookie string must be provided.");if("string"!=typeof r)throw new TypeError("Secret string must be provided.");var n=e.slice(0,e.lastIndexOf("."));return o(t.sign(n,r))==o(e)&&n}},function(e,t,r){"use strict";r.r(t),function(e){var n=r(88),o=r.n(n),i=r(89),s=r.n(i),a=r(82),u=r.n(a),c=r(90),l=r.n(c),f=r(3),p=r(1),d=r(91),h=r(117),g=r(119),m=r(111),v=r.n(m),y=r(95),b=r.n(y),w=r(120);t.default=function(t,r){b.a.setProvider(t);var n=r?new f.WebtaskStorageContext(r,{force:1}):new f.FileStorageContext(o.a.join(e,"./data.json"),{mergeWrites:!0}),i=new u.a;return i.use(s()(":method :url :status :response-time ms - :res[content-length]",{stream:v.a.stream})),i.use(l.a.json()),i.use(l.a.urlencoded({extended:!1})),i.use(p.routes.dashboardAdmins({secret:b()("EXTENSION_SECRET"),audience:"urn:sso-dashboard",rta:b()("AUTH0_RTA").replace("https://",""),domain:b()("AUTH0_DOMAIN"),baseUrl:b()("PUBLIC_URL"),clientName:"SSO Dashboard",urlPrefix:"/admins",sessionStorageKey:"sso-dashboard:apiToken",scopes:"read:clients delete:clients read:connections read:resource_servers create:resource_servers read:client_grants create:client_grants delete:client_grants"})),i.use("/api",Object(d.default)(n)),i.use("/app",u.a.static(o.a.join(e,"../dist"))),i.use("/meta",Object(h.default)()),i.use("/.extensions",Object(g.default)()),i.get("*",Object(w.default)()),i.use(p.middlewares.errorHandler(v.a.error)),i}}.call(this,"/")},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("morgan@1.5.3")},function(e,t){e.exports=require("body-parser@1.12.4")},function(e,t,r){"use strict";r.r(t);var n=r(82),o=r(3),i=r(1),s=(r(92),r(95)),a=r.n(s),u=r(96),c=r(104),l=r(114),f=r(115);t.default=function(e){var t=Object(n.Router)();t.use(i.middlewares.authenticateUsers.optional({domain:a()("IS_APPLIANCE")?a()("AUTH0_DOMAIN"):a()("AUTH0_CUSTOM_DOMAIN"),audience:a()("API_AUDIENCE")||"urn:auth0-sso-dashboard",credentialsRequired:!1,onLoginSuccess:function(e,t,r){return e.user.scope&&e.user.scope.indexOf("manage:applications")>-1&&!e.user.sub.endsWith("@client")?r(new o.ForbiddenError('"manage:applications" scope is not allowed for endusers.')):r()}})),t.use(i.middlewares.authenticateAdmins.optional({credentialsRequired:!1,secret:a()("EXTENSION_SECRET"),audience:"urn:sso-dashboard",baseUrl:a()("PUBLIC_URL"),onLoginSuccess:function(e,t,r){e.user.scope=["read:applications","manage:applications","manage:authorization"],r()}}));var r=i.middlewares.managementApiClient({domain:a()("AUTH0_DOMAIN")});return t.use("/applications",Object(c.default)(r,e)),t.use("/groups",Object(l.default)(e)),t.use("/authorization",Object(f.default)(e)),t.use("/connections",Object(u.default)(r)),t.get("/status",function(e,t){t.json({isAdmin:e.user.scope&&e.user.scope.indexOf("manage:applications")>-1})}),t}},function(e,t,r){!function(){"use strict";var t=r(93),n=r(94),o={origin:"*",methods:"GET,HEAD,PUT,PATCH,POST,DELETE",preflightContinue:!1,optionsSuccessStatus:204};function i(e){return"string"==typeof e||e instanceof String}function s(e,t){var r,n=t.headers.origin,o=[];return e.origin&&"*"!==e.origin?i(e.origin)?(o.push([{key:"Access-Control-Allow-Origin",value:e.origin}]),o.push([{key:"Vary",value:"Origin"}])):(r=function e(t,r){if(Array.isArray(r)){for(var n=0;n<r.length;++n)if(e(t,r[n]))return!0;return!1}return i(r)?t===r:r instanceof RegExp?r.test(t):!!r}(n,e.origin),o.push([{key:"Access-Control-Allow-Origin",value:!!r&&n}]),o.push([{key:"Vary",value:"Origin"}])):o.push([{key:"Access-Control-Allow-Origin",value:"*"}]),o}function a(e){return!0===e.credentials?{key:"Access-Control-Allow-Credentials",value:"true"}:null}function u(e){var t=e.exposedHeaders;return t?(t.join&&(t=t.join(",")),t&&t.length?{key:"Access-Control-Expose-Headers",value:t}:null):null}function c(e,t){for(var r=0,o=e.length;r<o;r++){var i=e[r];i&&(Array.isArray(i)?c(i,t):"Vary"===i.key&&i.value?n(t,i.value):i.value&&t.setHeader(i.key,i.value))}}e.exports=function(e){var r=null;return r="function"==typeof e?e:function(t,r){r(null,e)},function(e,n,i){r(e,function(r,l){if(r)i(r);else{var f=t({},o,l),p=null;f.origin&&"function"==typeof f.origin?p=f.origin:f.origin&&(p=function(e,t){t(null,f.origin)}),p?p(e.headers.origin,function(t,r){t||!r?i(t):(f.origin=r,function(e,t,r,n){var o=[];"OPTIONS"===(t.method&&t.method.toUpperCase&&t.method.toUpperCase())?(o.push(s(e,t)),o.push(a(e)),o.push(function(e){var t=e.methods;return t.join&&(t=e.methods.join(",")),{key:"Access-Control-Allow-Methods",value:t}}(e)),o.push(function(e,t){var r=e.allowedHeaders||e.headers,n=[];return r?r.join&&(r=r.join(",")):(r=t.headers["access-control-request-headers"],n.push([{key:"Vary",value:"Access-Control-Request-Headers"}])),r&&r.length&&n.push([{key:"Access-Control-Allow-Headers",value:r}]),n}(e,t)),o.push(function(e){var t=("number"==typeof e.maxAge||e.maxAge)&&e.maxAge.toString();return t&&t.length?{key:"Access-Control-Max-Age",value:t}:null}(e)),o.push(u(e)),c(o,r),e.preflightContinue?n():(r.statusCode=e.optionsSuccessStatus,r.setHeader("Content-Length","0"),r.end())):(o.push(s(e,t)),o.push(a(e)),o.push(u(e)),c(o,r),n())}(f,e,n,i))}):i()}})}}}()},function(e,t,r){"use strict";var n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var r,s,a=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var c in r=Object(arguments[u]))o.call(r,c)&&(a[c]=r[c]);if(n){s=n(r);for(var l=0;l<s.length;l++)i.call(r,s[l])&&(a[s[l]]=r[s[l]])}}return a}},function(e,t,r){"use strict";e.exports=function(e,t){if(!e||!e.getHeader||!e.setHeader)throw new TypeError("res argument is required");var r=e.getHeader("Vary")||"",n=Array.isArray(r)?r.join(", "):String(r);(r=o(n,t))&&e.setHeader("Vary",r)},e.exports.append=o;var n=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/;function o(e,t){if("string"!=typeof e)throw new TypeError("header argument is required");if(!t)throw new TypeError("field argument is required");for(var r=Array.isArray(t)?t:i(String(t)),o=0;o<r.length;o++)if(!n.test(r[o]))throw new TypeError("field argument contains an invalid header name");if("*"===e)return e;var s=e,a=i(e.toLowerCase());if(-1!==r.indexOf("*")||-1!==a.indexOf("*"))return"*";for(var u=0;u<r.length;u++){var c=r[u].toLowerCase();-1===a.indexOf(c)&&(a.push(c),s=s?s+", "+r[u]:r[u])}return s}function i(e){for(var t=0,r=[],n=0,o=0,i=e.length;o<i;o++)switch(e.charCodeAt(o)){case 32:n===t&&(n=t=o+1);break;case 44:r.push(e.substring(n,t)),n=t=o+1;break;default:t=o+1}return r.push(e.substring(n,t)),r}},function(e,t){var r={},n=null,o=function(e){return"true"===e||"false"===e?"true"===e:e},i=function e(t){if(r&&r[t])return o(r[t]);if(!n)throw new Error("A configuration provider has not been set");return"PUBLIC_URL"===t?n("PUBLIC_URL")||e("PUBLIC_WT_URL"):"AUTH0_CUSTOM_DOMAIN"===t?n("AUTH0_CUSTOM_DOMAIN")||n("AUTH0_DOMAIN"):"IS_APPLIANCE"===t?e("AUTH0_RTA")&&"auth0.auth0.com"!==e("AUTH0_RTA").replace("https://",""):o(n(t))};i.setProvider=function(e){n=e},i.setValue=function(e,t){r[e]=t},e.exports=i},function(e,t,r){"use strict";r.r(t);var n=r(97),o=r.n(n),i=r(82),s=r(98),a=r(100);t.default=function(e){var t=Object(i.Router)();return t.get("/",e,Object(s.requireScope)("manage:applications"),function(e,t,r){Object(a.default)(e.auth0,"connections",{fields:"name"}).then(function(e){return o.a.chain(e).sortBy(function(e){return e.name.toLowerCase()}).value()}).then(function(e){return t.json(e)}).catch(r)}),t}},function(e,t){e.exports=require("lodash@3.10.1")},function(e,t,r){"use strict";r.r(t);var n=r(99);r.d(t,"requireScope",function(){return n.default})},function(e,t,r){"use strict";r.r(t);var n=r(3);t.default=function(e){return function(t,r,o){return!t.user||!t.user.scope||t.user.scope.indexOf(e)<0?o(new n.ForbiddenError(`Cannot perform action. Missing scope ${e}`)):o()}}},function(e,t,r){"use strict";r.r(t);var n=r(101),o=r.n(n),i=r(103),s=r.n(i),a=r(3);t.default=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5;if(null===e||void 0===e)throw new a.ArgumentError("Must provide a auth0 client object.");if(!t&&!e[t])throw new a.ArgumentError("Must provide a valid entity for auth0 client.");var u=e[t].getAll,c=o()({},r,{per_page:n}),l=[],f=0,p=0,d=function(e){return u(o()({},c,{page:e})).then(function(e){return e.forEach(function(e){return l.push(e)}),null})};return u(o()({},c,{include_totals:!0,page:0})).then(function(e){return f=e.total||0,p=Math.ceil(f/n),(e[t]||e||[]).forEach(function(e){return l.push(e)}),null}).then(function(){if(0===f||l.length>=f)return l;for(var e=[],t=1;t<=p;t++)e.push(t);return s.a.map(e,d,{concurrency:i})}).then(function(){return l})}},function(e,t,r){var n=r(102);e.exports=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach(function(t){n(e,t,r[t])})}return e}},function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t){e.exports=require("bluebird@3.4.6")},function(e,t,r){"use strict";r.r(t);var n=r(101),o=r.n(n),i=r(97),s=r.n(i),a=r(105),u=r.n(a),c=r(82),l=(r(95),r(98)),f=r(107),p=(r(109),r(113)),d=r(100);t.default=function(e,t){var r=Object(c.Router)();return r.get("/clients",e,Object(l.requireScope)("manage:applications"),function(e,t,r){Object(d.default)(e.auth0,"clients",{is_global:!1,fields:"client_id,name,callbacks,app_type"}).then(function(e){return s.a.chain(e).sortBy(function(e){return e.name.toLowerCase()}).value()}).then(function(e){return t.json(e)}).catch(r)}),r.get("/",Object(l.requireScope)("read:applications"),function(e,r,n){var i;t.read().then(function(e){return i=e.applications||{},null}).then(function(){return t.read()}).then(function(t){return e.user["http://sso-dashboard.com/groups"]}).then(function(e){var t={};return Object.keys(i).map(function(r){var n=i[r];return n.enabled&&n.loginUrl&&Object(p.hasGroup)(e,n.groups)&&(t[r]=n),n}),t}).then(function(e){return r.json(s.a.map(e,function(e,t){return o()({},e,{id:t})}))}).catch(n)}),r.get("/all",Object(l.requireScope)("manage:applications"),function(e,r,n){t.read().then(function(e){return r.json(s.a.map(e.applications||{},function(e,t){return o()({},e,{id:t})}))}).catch(n)}),r.get("/:id",Object(l.requireScope)("manage:applications"),function(e,r,n){t.read().then(function(t){return r.json({application:t.applications[e.params.id]})}).catch(n)}),r.put("/:id",Object(l.requireScope)("manage:applications"),function(e,r,n){Object(f.saveApplication)(e.params.id,e.body,t).then(function(){return r.status(204).send()}).catch(n)}),r.patch("/:id/:direction(-[0-9]*|[0-9]*)",Object(l.requireScope)("manage:applications"),function(e,r,n){Object(f.moveApplication)(e.params.id,parseInt(e.params.direction,10),t).then(function(){return r.status(204).send()}).catch(n)}),r.post("/",Object(l.requireScope)("manage:applications"),function(e,r,n){var o=u.a.v4();Object(f.saveApplication)(o,e.body,t).then(function(){return r.status(201).send({id:o})}).catch(n)}),r.delete("/:id",Object(l.requireScope)("manage:applications"),function(e,r,n){Object(f.deleteApplication)(e.params.id,t).then(function(){return r.status(204).send()}).catch(n)}),r}},function(e,t,r){for(var n=r(106),o=[],i={},s=0;s<256;s++)o[s]=(s+256).toString(16).substr(1),i[o[s]]=s;function a(e,t){var r=t||0,n=o;return n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]}var u=n(),c=[1|u[0],u[1],u[2],u[3],u[4],u[5]],l=16383&(u[6]<<8|u[7]),f=0,p=0;function d(e,t,r){var o=t&&r||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||n)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var s=0;s<16;s++)t[o+s]=i[s];return t||a(i)}var h=d;h.v1=function(e,t,r){var n=t&&r||0,o=t||[],i=void 0!==(e=e||{}).clockseq?e.clockseq:l,s=void 0!==e.msecs?e.msecs:(new Date).getTime(),u=void 0!==e.nsecs?e.nsecs:p+1,d=s-f+(u-p)/1e4;if(d<0&&void 0===e.clockseq&&(i=i+1&16383),(d<0||s>f)&&void 0===e.nsecs&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");f=s,p=u,l=i;var h=(1e4*(268435455&(s+=122192928e5))+u)%4294967296;o[n++]=h>>>24&255,o[n++]=h>>>16&255,o[n++]=h>>>8&255,o[n++]=255&h;var g=s/4294967296*1e4&268435455;o[n++]=g>>>8&255,o[n++]=255&g,o[n++]=g>>>24&15|16,o[n++]=g>>>16&255,o[n++]=i>>>8|128,o[n++]=255&i;for(var m=e.node||c,v=0;v<6;v++)o[n+v]=m[v];return t||a(o)},h.v4=d,h.parse=function(e,t,r){var n=t&&r||0,o=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){o<16&&(t[n+o++]=i[e])});o<16;)t[n+o++]=0;return t},h.unparse=a,e.exports=h},function(e,t,r){var n=r(83).randomBytes;e.exports=function(){return n(16)}},function(e,t,r){"use strict";r.r(t),r.d(t,"saveApplication",function(){return a}),r.d(t,"moveApplication",function(){return u}),r.d(t,"deleteApplication",function(){return c});var n=r(103),o=r.n(n),i=r(3),s=r(108),a=function(e,t,r){return new o.a(function(n,o){var i={name:t.name,client:t.client,enabled:t.enabled,type:t.type,logo:t.logo,connection:t.connection,groups:Array.isArray(t.groups)?t.groups:[t.groups],callback:t.callback,customURL:t.customURL,customURLEnabled:t.customURLEnabled};"oidc"===t.type&&(i.response_type=t.response_type||"code",i.scope=t.scope||"openid"),i.loginUrl=Object(s.default)(i),r.read().then(function(t){return(t=t||{}).applications=t.applications||{},t.applications[e]=i,r.write(t).then(n).catch(o)}).catch(o)})},u=function(e,t,r){return r.read().then(function(n){n.applications=n.applications||{};var s=Object.keys(n.applications),a=s.indexOf(e),u=a+t;if(a<0)return o.a.reject(new i.NotFoundError(`Application "${e}" not found.`));if(u>=0&&u<s.length){var c={};return s.splice(u,0,s.splice(a,1)[0]),s.forEach(function(e){c[e]=n.applications[e]}),n.applications=c,r.write(n)}return o.a.reject(new i.ArgumentError(`Application "${e}" cannot be moved to "${u}" position.`))})},c=function(e,t){return new o.a(function(r,n){t.read().then(function(o){return o.applications[e]=null,delete o.applications[e],t.write(o).then(r).catch(n)}).catch(n)})}},function(e,t,r){"use strict";r.r(t);var n=r(95),o=r.n(n);t.default=function(e){var t=e.type,r=e.callback||"",n=o()("AUTH0_CUSTOM_DOMAIN"),i=e.client,s=e.response_type||"code",a=e.scope||"openid",u="";switch(t){case"saml":u=`https://${n}/samlp/${i}`;break;case"wsfed":u=`https://${n}/wsfed/${i}?wreply=${r}`;break;default:case"oidc":u=`https://${n}/authorize?response_type=${s}&scope=${a}&client_id=${i}&redirect_uri=${encodeURIComponent(r)}`}e.connection&&(u+=`${u.indexOf("?")<0?"?":"&"}${"wsfed"===t?"whr":"connection"}=${e.connection}`);return u}},function(e,t,r){"use strict";r.r(t),r.d(t,"getGroups",function(){return y}),r.d(t,"getGroupsForUser",function(){return b}),r.d(t,"getResourceServer",function(){return x}),r.d(t,"createResourceServer",function(){return k}),r.d(t,"deleteResourceServer",function(){return S}),r.d(t,"addGrant",function(){return E}),r.d(t,"removeGrant",function(){return _});var n=r(97),o=r.n(n),i=r(103),s=r.n(i),a=r(110),u=r.n(a),c=r(61),l=r.n(c),f=r(3),p=r(95),d=r.n(p),h=r(111),g=r.n(h),m=function(){if(d()("AUTHZ_API_DEV_URL"))return d()("AUTHZ_API_DEV_URL");var e=d()("PUBLIC_URL");"/"===e[e.length-1]&&(e[e.length-1]="");var t=e.split("/");return t[t.length-1]="adf6e2f2b84784b57522e3b19dfc9201/api",t.join("/")},v=s.a.promisify(l()({load:function(e){new s.a(function(e,t){var r={client_id:d()("AUTH0_CLIENT_ID"),client_secret:d()("AUTH0_CLIENT_SECRET"),audience:"urn:auth0-authz-api",grant_type:"client_credentials"};u()("POST",`https://${d()("AUTH0_DOMAIN")}/oauth/token`).send(r).set("Content-Type","application/json").end(function(r,n){return!r&&n.body&&n.body.access_token?e(n.body.access_token):(g.a.error(n.body),t(r))})}).then(function(t){return e(null,t)}).catch(function(t){return e(t)})},hash:function(){return"auth0-authz-apiToken"},max:100,maxAge:36e5})),y=function(){return new s.a(function(e,t){return v().then(function(r){return r?u()("GET",`${m()}/groups`).set("Content-Type","application/json").set("Authorization",`Bearer ${r}`).end(function(r,n){return r?(g.a.error(n.body),t(r)):e(n.body.groups||[])}):e(null)}).catch(t)})},b=function(e){return new s.a(function(t,r){return v().then(function(n){return n?e?u()("GET",`${m()}/users/${e}/groups/calculate`).set("Content-Type","application/json").set("Authorization",`Bearer ${n}`).end(function(e,n){if(e)return g.a.error(n.body),r(e);var i=o.a.map(n.body||[],function(e){return e._id});return t(i)}):r(new f.ValidationError("User ID is required.")):t(null)}).catch(r)})},w=function(e,t,r,n){return new s.a(function(o,i){return function(e){return e.user&&e.user.access_token&&e.user.access_token.length?s.a.resolve(e.user.access_token):f.managementApi.getAccessTokenCached(d()("AUTH0_DOMAIN"),d()("AUTH0_CLIENT_ID"),d()("AUTH0_CLIENT_SECRET"))}(e).then(function(e){u()(r,`https://${d()("AUTH0_DOMAIN")}/api/v2/${t}`).send(n||{}).set("Content-Type","application/json").set("Authorization",`Bearer ${e}`).end(function(e,t){return e?(g.a.error(t.body),i(e)):o(t.body)})})})},x=function(e,t){return w(e,"resource-servers","GET").then(function(e){var r=e.filter(function(e){return e.identifier===t});return r.length&&r[0]})},k=function(e){var t={name:d()("API_NAME")||"SSO Dashboard API",identifier:d()("API_AUDIENCE")||"urn:auth0-sso-dashboard",signing_alg:"RS256",scopes:[{value:"read:applications",description:"Get applications"},{value:"manage:applications",description:"Manage applications"}],token_lifetime:86400};return w(e,"resource-servers","POST",t)},S=function(e){return x(e,"urn:auth0-sso-dashboard").then(function(t){return t.id?w(e,`resource-servers/${t.id}`,"DELETE"):s.a.resolve()})},E=function(e){return w(e,"client-grants","POST",{client_id:d()("AUTH0_CLIENT_ID"),audience:"urn:auth0-authz-api",scope:["read:users","read:groups"]})},_=function(e){return function(e){return w(e,"client-grants","GET").then(function(e){return e.filter(function(e){return e.client_id===d()("AUTH0_CLIENT_ID")&&"urn:auth0-authz-api"===e.audience})}).then(function(e){return e[0]&&e[0].id})}(e).then(function(t){return t?w(e,`client-grants/${t}`,"DELETE"):s.a.resolve()})}},function(e,t){e.exports=require("superagent@1.2.0")},function(e,t,r){var n=r(112);n.emitErrs=!0;var o=new n.Logger({transports:[new n.transports.Console({timestamp:!0,level:"debug",handleExceptions:!0,json:!1,colorize:!0})],exitOnError:!1});e.exports=o,e.exports.stream={write:function(e){o.info(e.replace(/\n$/,""))}}},function(e,t){e.exports=require("winston@1.0.0")},function(e,t,r){"use strict";r.r(t),r.d(t,"hasGroup",function(){return i});var n=r(97),o=r.n(n),i=function(e,t){if(!t||0===t.length||1===t.length&&!t[0])return!0;var r=o.a.intersection(e,t);return r&&r.length>=1}},function(e,t,r){"use strict";r.r(t);var n=r(82),o=r(95),i=r.n(o),s=(r(109),r(98));t.default=function(e){var t=Object(n.Router)();return t.get("/",Object(s.requireScope)("manage:applications"),function(e,t,r){var n=i()("USER_GROUPS");return n?t.json(n.split(",").map(function(e){return e.trim()}).map(function(e){return{_id:e,name:e}})):t.json([])}),t}},function(e,t,r){"use strict";r.r(t);var n=r(82),o=r(95),i=r.n(o),s=r(116),a=r(98);t.default=function(e){var t=Object(n.Router)();return t.get("/",Object(a.requireScope)("manage:authorization"),function(e,t,r){var n=!!i()("USER_GROUPS");return t.json({authorizationApiAvailable:n,authorizationEnabled:n})}),t.post("/",Object(a.requireScope)("manage:authorization"),function(t,r,n){return i()("ALLOW_AUTHZ")?s.enable(t,e).then(function(){return r.json({enabled:!0})}).catch(n):n()}),t.delete("/",Object(a.requireScope)("manage:authorization"),function(t,r,n){return i()("ALLOW_AUTHZ")?s.disable(t,e).then(function(){return r.json({enabled:!1})}).catch(n):n()}),t}},function(e,t,r){"use strict";r.r(t),r.d(t,"getStatus",function(){return a}),r.d(t,"enable",function(){return u}),r.d(t,"disable",function(){return c});var n=r(103),o=r.n(n),i=r(3),s=r(109),a=function(e,t){return t.read().then(function(t){var r={authorizationEnabled:t.authorizationEnabled};return Object(s.getResourceServer)(e,"urn:auth0-authz-api").then(function(e){return r.authorizationApiAvailable=!!e,r})})},u=function(e,t){return t.read().then(function(r){return r.authorizationEnabled?o.a.resolve():Object(s.getResourceServer)(e,"urn:auth0-authz-api").then(function(n){if(!n){var a=new i.ValidationError("Authorization API not found.");return a.status=400,o.a.reject(a)}return Object(s.addGrant)(e).then(function(){return r.authorizationEnabled=!0,t.write(r)})})})},c=function(e,t){return t.read().then(function(r){return r.authorizationEnabled?Object(s.removeGrant)(e).then(function(){return r.authorizationEnabled=!1,t.write(r)}):o.a.resolve()})}},function(e,t,r){"use strict";r.r(t);var n=r(82),o=r.n(n),i=r(118);t.default=function(){var e=o.a.Router();return e.get("/",function(e,t){t.status(200).send(i)}),e}},function(e){e.exports=JSON.parse('{"title":"Custom SSO Dashboard","name":"sso-dashboard","version":"2.4.0","preVersion":"2.2.1","author":"Dan Baker","useHashName":false,"description":"This extension provides your users with a dashboard for all of their applications.","type":"application","category":"end_user","logoUrl":"https://cdn.auth0.com/extensions/auth0-sso-dashboard/assets/logo.svg","initialUrlPath":"/admins/login","codeUrl":"https://raw.githubusercontent.com/danielbaker/auth0-sso-dashboard-extension/master/build/bundle.js","repository":"https://github.com/danielbaker/auth0-sso-dashboard-extension","keywords":["extension"],"auth0":{"createClient":true,"onUninstallPath":"/.extensions/on-uninstall","onInstallPath":"/.extensions/on-install","onUpdatePath":"/.extensions/on-update","scopes":"read:clients delete:clients read:connections read:resource_servers create:resource_servers read:client_grants create:client_grants delete:client_grants"},"secrets":{"EXTENSION_CLIENT_ID":{"description":"Client ID of the application you created in the Auth0 Management Dashboard","required":true},"TITLE":{"description":"Custom title for the dashboard","example":"Fabrikam SSO Dashboard","required":false},"CUSTOM_CSS":{"description":"A CSS file containing custom styles for the extension","example":"https://cdn.fabrikam.com/static/extensions/theme/fabrikam.css","required":false},"AUTH0_CUSTOM_DOMAIN":{"description":"Custom domain","example":"example.com","required":false},"PUBLIC_URL":{"description":"URL that will serve the dashboard. This must be configued externally as a CNAME or reverse proxy","example":"sso.company.com","required":false},"USER_GROUPS":{"description":"A comma separated list of groups that users can belong to giving them access to different applications","example":"admins,users","required":false}}}')},function(e,t,r){"use strict";r.r(t);var n=r(82),o=r(1),i=r(95),s=r.n(i),a=r(111),u=r.n(a),c=r(109);t.default=function(){var e=Object(n.Router)(),t=o.middlewares.validateHookToken(s()("AUTH0_DOMAIN"),s()("WT_URL"),s()("EXTENSION_SECRET"));return e.use("/on-install",t("/.extensions/on-install")),e.use("/on-update",t("/.extensions/on-update")),e.use("/on-uninstall",t("/.extensions/on-uninstall")),e.use(o.middlewares.managementApiClient({domain:s()("AUTH0_DOMAIN"),clientId:s()("AUTH0_CLIENT_ID"),clientSecret:s()("AUTH0_CLIENT_SECRET")})),e.post("/on-install",function(e,t){Object(c.getResourceServer)(e,"urn:auth0-sso-dashboard").then(function(t){return t?Promise.resolve():Object(c.createResourceServer)(e)}).then(function(){u.a.debug("Resource server for the SSO Dashboard extension created.")}).then(function(){t.sendStatus(204)}).catch(function(e){u.a.debug("Error deploying resources for the SSO Dashboard extension."),u.a.error(e),t.sendStatus(400)})}),e.put("/on-update",function(e,t){Object(c.getResourceServer)(e,"urn:auth0-sso-dashboard").then(function(t){return t?Promise.resolve():Object(c.createResourceServer)(e)}).then(function(){u.a.debug("Resource server for the SSO Dashboard extension created.")}).then(function(){t.sendStatus(204)}).catch(function(e){u.a.debug("Error deploying resources for the SSO Dashboard extension."),u.a.error(e),t.sendStatus(400)})}),e.delete("/on-uninstall",function(e,t){var r=s()("AUTH0_CLIENT_ID");Object(c.deleteResourceServer)(e).then(function(){return e.auth0.clients.delete({client_id:r})}).then(function(){u.a.debug(`Deleted client ${r}`),t.sendStatus(204)}).catch(function(e){u.a.debug(`Error deleting client: ${s()("AUTH0_CLIENT_ID")}`),u.a.error(e),t.sendStatus(204)})}),e}},function(e,t,r){"use strict";r.r(t),function(e){r(101),r(121);var n=r(122),o=r.n(n),i=(r(88),r(1)),s=r(95),a=r.n(s);t.default=function(){var e='\n  <!DOCTYPE html>\n  <html lang="en">\n  <head>\n    <title><%= config.TITLE %></title>\n    <meta charset="UTF-8" />\n    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />\n    <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n    <link rel="shortcut icon" href="https://cdn.auth0.com/styleguide/4.6.13/lib/logos/img/favicon.png">\n    <meta name="viewport" content="width=device-width, initial-scale=1">\n    <link rel="stylesheet" type="text/css" href="https://cdn.auth0.com/styles/zocial.min.css" />\n    <link rel="stylesheet" type="text/css" href="https://cdn.auth0.com/manage/v0.3.1672/css/index.min.css" />\n    <link rel="stylesheet" type="text/css" href="https://cdn.auth0.com/styleguide/4.6.13/index.min.css" />\n    <% if (assets.style) { %><link rel="stylesheet" type="text/css" href="/app/<%= assets.style %>" /><% } %>\n    <% if (assets.version) { %><link rel="stylesheet" type="text/css" href="//cdn.auth0.com/extensions/auth0-sso-dashboard/assets/auth0-sso-dashboard.ui.<%= assets.version %>.css" /><% } %>\n    <% if (assets.customCss) { %><link rel="stylesheet" type="text/css" href="<%= assets.customCss %>" /><% } %>\n  </head>\n  <body>\n    <div id="app"></div>\n    <script type="text/javascript" src="//cdn.auth0.com/js/auth0/8.6/auth0.min.js"><\/script>\n    <script type="text/javascript" src="//cdn.auth0.com/manage/v0.3.1672/js/bundle.js"><\/script>\n    <script type="text/javascript">window.config = <%- JSON.stringify(config) %>;<\/script>\n    <% if (assets.vendors) { %><script type="text/javascript" src="/app/<%= assets.vendors %>"><\/script><% } %>\n    <% if (assets.app) { %><script type="text/javascript" src="/app/<%= assets.app %>"><\/script><% } %>\n    <% if (assets.bundle) { %><script type="text/javascript" src="<%= assets.bundle %>"><\/script><% } %>\n    <% if (assets.version) { %>\n    <script type="text/javascript" src="//cdn.auth0.com/extensions/auth0-sso-dashboard/assets/auth0-sso-dashboard.ui.vendors.<%= assets.version %>.js"><\/script>\n    <script type="text/javascript" src="//cdn.auth0.com/extensions/auth0-sso-dashboard/assets/auth0-sso-dashboard.ui.<%= assets.version %>.js"><\/script>\n    <% } %>\n  </body>\n  </html>\n  ';return function(t,r,n){if(0===t.url.indexOf("/api"))return n();var s={AUTH0_CUSTOM_DOMAIN:a()("AUTH0_CUSTOM_DOMAIN"),AUTH0_DOMAIN:a()("AUTH0_DOMAIN"),IS_APPLIANCE:a()("IS_APPLIANCE"),AUTH0_CLIENT_ID:a()("EXTENSION_CLIENT_ID"),AUTH0_MANAGE_URL:a()("AUTH0_MANAGE_URL")||"https://manage.auth0.com",ALLOW_AUTHZ:a()("ALLOW_AUTHZ"),BASE_URL:a()("PUBLIC_URL"),BASE_PATH:i.urlHelpers.getBasePath(t),TITLE:a()("TITLE")};return r.send(o.a.render(e,{config:s,assets:{customCss:a()("CUSTOM_CSS"),version:"2.4.0"}}))}}}.call(this,"/")},function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("ejs@2.3.1")}]);