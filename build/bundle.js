"use strict";
module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){var r=n(1),o=n(98).default,i=n(106),a=n(126),s=r.createServer(function(e,t){return a.info("Starting SSO Dashboard Extension - Version:","2.4.0"),o(e,t)});e.exports=function(e,t,n){t.x_wt&&t.x_wt.ectx&&t.x_wt.ectx.PUBLIC_WT_URL||!1||i.setValue("PUBLIC_WT_URL",r.urlHelpers.getWebtaskUrl(t)),s(e,t,n)}},function(e,t,n){const r=n(2),o=n(5),i=n(7),a=n(91);e.exports.createServer=r.createServer,e.exports.urlHelpers=o,e.exports.middlewares=i,e.exports.routes=a},function(e,t,n){const r=n(3),o=n(4);e.exports.createServer=function(e){const t=r.createServer(e);var n=null;return o.fromExpress(function(e,r){return n||(n=t(e.webtaskContext)),n(e,r)})}},function(e,t){e.exports=require("auth0-extension-tools@1.3.2")},function(e,t){e.exports=require("webtask-tools")},function(e,t,n){const r=n(6),o=3,i=2,a=1,s=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g;e.exports.getBasePath=function(e){return t=e.originalUrl||"",n=e.path,(o=(o=r.parse(t).pathname||"").replace(n,"").replace(/^\/|\/$/g,"")).startsWith("/")||(o="/"+o),o.endsWith("/")||(o+="/"),o;var t,n,o},e.exports.getBaseUrl=function(e,t){var n=t;const o=r.parse(e.originalUrl||"").pathname||"";return r.format({protocol:n||"https",host:e.headers.host,pathname:o.replace(e.path,"").replace(/\/$/g,"")})},e.exports.getWebtaskUrl=function(e){const t=function(e){if(!e.container)return null;const t=e.container.replace(s,"\\$&"),n=e.jtn?e.jtn.replace(s,"\\$&"):"";if(e.url_format===a)return new RegExp("^/api/run/"+t+"/(?:"+n+"/?)?");if(e.url_format===i)return new RegExp("^/"+t+"/(?:"+n+"/?)?");if(e.url_format===o)return new RegExp("^/(?:"+n+"/?)?");throw new Error("Unsupported webtask URL format.")}(e.x_wt),n=e.url,u=e.url.replace(t,"/"),c=r.parse(u||"").pathname,l=e.x_wt&&e.x_wt.ectx&&e.x_wt.ectx.ISOLATED_DOMAIN||!1,f=r.parse(n||"").pathname||"";var p;if(l){p=r.format({protocol:"https",host:e.headers.host,pathname:f.replace(c,"").replace(/\/$/g,"")});const t=".it.auth0.com/api/run/"+e.x_wt.container+"/",n=function(e,t){if(!e)return null;const n=e.indexOf("sandbox8")>=0?"8":"";return"https://"+t+"."+(e.split(".it.auth0.com")[0].split("-")[1]||"us")+n+".webtask.io/"}(p,e.x_wt.container);p.indexOf(t)>=0&&(p=p.replace("https://"+e.headers.host+"/api/run/"+e.x_wt.container+"/",n))}else p=f;return p}},function(e,t){e.exports=require("url")},function(e,t,n){e.exports.authenticateAdmins=n(8),e.exports.authenticateUsers=n(21),e.exports.requireAuthentication=n(86),e.exports.errorHandler=n(87),e.exports.managementApiClient=n(88),e.exports.validateHookToken=n(89),e.exports.webtaskConfig=n(90)},function(e,t,n){const r=n(9),o=n(12),i=n(3),a=n(18);e.exports=function(e){if(!e||"object"!=typeof e)throw new i.ArgumentError("Must provide the options");if(null===e.secret||void 0===e.secret)throw new i.ArgumentError("Must provide a valid secret");if("string"!=typeof e.secret||0===e.secret.length)throw new i.ArgumentError("The provided secret is invalid: "+e.secret);if(null===e.audience||void 0===e.audience)throw new i.ArgumentError("Must provide a valid secret");if("string"!=typeof e.audience||0===e.audience.length)throw new i.ArgumentError("The provided audience is invalid: "+e.audience);if(null===e.baseUrl||void 0===e.baseUrl)throw new i.ArgumentError("Must provide a valid base URL");if("string"!=typeof e.baseUrl||0===e.baseUrl.length)throw new i.ArgumentError("The provided base URL is invalid: "+e.baseUrl);const t=o({audience:e.audience,issuer:e.baseUrl,secret:e.secret,algorithms:["HS256"],credentialsRequired:e.credentialsRequired||!0});return function(n,r,o){t(n,r,function(t){return t?o(t):e.onLoginSuccess?e.onLoginSuccess(n,r,o):o()})}},e.exports.optional=function(t){const n=e.exports(t);return a(function(e){if(e&&e.headers&&e.headers.authorization&&0===e.headers.authorization.indexOf("Bearer "))try{const n=r(e.headers.authorization.split(" ")[1]);return n&&n.iss===t.baseUrl}catch(e){return!1}return!1},n)}},function(e,t,n){"use strict";var r=n(10);function o(e){this.message=e}o.prototype=new Error,o.prototype.name="InvalidTokenError",e.exports=function(e,t){if("string"!=typeof e)throw new o("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(r(e.split(".")[n]))}catch(e){throw new o("Invalid token specified: "+e.message)}},e.exports.InvalidTokenError=o},function(e,t,n){var r=n(11);e.exports=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(r(e).replace(/(.)/g,function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}(t)}catch(e){return r(t)}}},function(e,t){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function r(e){this.message=e}r.prototype=new Error,r.prototype.name="InvalidCharacterError",e.exports="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new r("'atob' failed: The string to be decoded is not correctly encoded.");for(var o,i,a=0,s=0,u="";i=t.charAt(s++);~i&&(o=a%4?64*o+i:i,a++%4)?u+=String.fromCharCode(255&o>>(-2*a&6)):0)i=n.indexOf(i);return u}},function(e,t,n){var r=n(13),o=n(14),i=n(15),a=n(16),s=n(17),u=function(e,t,n){return n(null,!1)},c={}.toString;e.exports=function(e){if(!e||!e.secret)throw new Error("secret should be set");var t,n,l=e.secret;(n=l)&&"[object Function]"==c.call(n)||(t=l,l=function(e,n,r){return r(null,t)});var f=e.isRevoked||u,p=e.userProperty||e.requestProperty||"user",d=void 0===e.credentialsRequired||e.credentialsRequired,h=function(t,n,i){var u;if("OPTIONS"===t.method&&t.headers.hasOwnProperty("access-control-request-headers")&&!!~t.headers["access-control-request-headers"].split(",").map(function(e){return e.trim()}).indexOf("authorization"))return i();if(void 0!==e.skip&&(console.warn("WARN: express-jwt: options.skip is deprecated"),console.warn("WARN: use app.use(jwt(options).unless({path: '/x'}))"),e.skip.indexOf(t.url)>-1))return i();if(e.getToken&&"function"==typeof e.getToken)try{u=e.getToken(t)}catch(e){return i(e)}else if(t.headers&&t.headers.authorization){var c=t.headers.authorization.split(" ");if(2!=c.length)return i(new o("credentials_bad_format",{message:"Format is Authorization: Bearer [token]"}));var h=c[0],v=c[1];if(!/^Bearer$/i.test(h))return i(new o("credentials_bad_scheme",{message:"Format is Authorization: Bearer [token]"}));u=v}if(!u)return d?i(new o("credentials_required",{message:"No authorization token was found"})):i();var g=r.decode(u,{complete:!0})||{};a.waterfall([function(e){4==l.length?l(t,g.header,g.payload,e):l(t,g.payload,e)},function(t,n){r.verify(u,t,e,function(e,t){e&&d?n(new o("invalid_token",e)):n(null,t)})},function(e,n){f(t,g.payload,function(t,r){t?n(t):r?n(new o("revoked_token",{message:"The token has been revoked."})):n(null,e)})}],function(e,n){if(e)return i(e);s(t,p,n),i()})};return h.unless=i,h}},function(e,t){e.exports=require("jsonwebtoken@7.1.9")},function(e,t){function n(e,t){Error.call(this,t.message),Error.captureStackTrace(this,this.constructor),this.name="UnauthorizedError",this.message=t.message,this.code=e,this.status=401,this.inner=t}n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,e.exports=n},function(e,t,n){var r=n(6);e.exports=function(e){var t=this,n="function"==typeof e?{custom:e}:e;return n.useOriginalUrl=void 0===n.useOriginalUrl||n.useOriginalUrl,function(e,o,i){var a=r.parse((n.useOriginalUrl?e.originalUrl:e.url)||e.url||"",!0),s=!1;n.custom&&(s=s||n.custom(e));var u=!n.path||Array.isArray(n.path)?n.path:[n.path];u&&(s=s||u.some(function(t){return function e(t,n){var r="string"==typeof t&&t===n||t instanceof RegExp&&!!t.exec(n);t instanceof RegExp&&(t.lastIndex=0);t&&t.url&&(r=e(t.url,n));return r}(t,a.pathname)&&function(e,t){if(!e)return!0;return!!~(e=Array.isArray(e)?e:[e]).indexOf(t)}(t.methods,e.method)}));var c=!n.ext||Array.isArray(n.ext)?n.ext:[n.ext];c&&(s=s||c.some(function(e){return a.pathname.substr(-1*e.length)===e}));var l=!n.method||Array.isArray(n.method)?n.method:[n.method];if(l&&(s=s||!!~l.indexOf(e.method)),s)return i();t(e,o,i)}}},function(e,t,n){var r;!function(){var n,o={};function i(){}function a(e){return e}function s(e){return!!e}function u(e){return!e}var c="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this;function l(e){return function(){if(null===e)throw new Error("Callback was already called.");e.apply(this,arguments),e=null}}function f(e){return function(){null!==e&&(e.apply(this,arguments),e=null)}}null!=c&&(n=c.async),o.noConflict=function(){return c.async=n,o};var p=Object.prototype.toString,d=Array.isArray||function(e){return"[object Array]"===p.call(e)};function h(e){return d(e)||"number"==typeof e.length&&e.length>=0&&e.length%1==0}function v(e,t){for(var n=-1,r=e.length;++n<r;)t(e[n],n,e)}function g(e,t){for(var n=-1,r=e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function m(e){return g(Array(e),function(e,t){return t})}function y(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}var b=Object.keys||function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t};function w(e){var t,n,r=-1;return h(e)?(t=e.length,function(){return++r<t?r:null}):(n=b(e),t=n.length,function(){return++r<t?n[r]:null})}function _(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),r=Array(n),o=0;o<n;o++)r[o]=arguments[o+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r)}}}function x(e){return function(t,n,r){return e(t,r)}}var k="function"==typeof setImmediate&&setImmediate,S=k?function(e){k(e)}:function(e){setTimeout(e,0)};function E(e){return function(t,n,r){r=f(r||i);var o=w(t=t||[]);if(e<=0)return r(null);var a=!1,s=0,u=!1;!function i(){if(a&&s<=0)return r(null);for(;s<e&&!u;){var c=o();if(null===c)return a=!0,void(s<=0&&r(null));s+=1,n(t[c],c,l(function(e){s-=1,e?(r(e),u=!0):i()}))}}()}}function O(e){return function(t,n,r){return e(o.eachOf,t,n,r)}}function j(e){return function(t,n,r,o){return e(E(n),t,r,o)}}function A(e){return function(t,n,r){return e(o.eachOfSeries,t,n,r)}}function T(e,t,n,r){r=f(r||i);var o=h(t=t||[])?[]:{};e(t,function(e,t,r){n(e,function(e,n){o[t]=n,r(e)})},function(e){r(e,o)})}function C(e,t,n,r){var o=[];e(t,function(e,t,r){n(e,function(n){n&&o.push({index:t,value:e}),r()})},function(){r(g(o.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})}function U(e,t,n,r){C(e,t,function(e,t){n(e,function(e){t(!e)})},r)}function R(e,t,n){return function(r,o,i,a){function s(){a&&a(n(!1,void 0))}function u(e,r,o){if(!a)return o();i(e,function(r){a&&t(r)&&(a(n(!0,e)),a=i=!1),o()})}arguments.length>3?e(r,o,u,s):(a=i,i=o,e(r,u,s))}}function I(e,t){return t}function L(e,t,n){n=n||i;var r=h(t)?[]:{};e(t,function(e,t,n){e(_(function(e,o){o.length<=1&&(o=o[0]),r[t]=o,n(e)}))},function(e){n(e,r)})}function P(e,t,n,r){var o=[];e(t,function(e,t,r){n(e,function(e,t){o=o.concat(t||[]),r(e)})},function(e){r(e,o)})}function N(e,t,n){if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");function r(e,t,n,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(e.started=!0,d(t)||(t=[t]),0===t.length&&e.idle())return o.setImmediate(function(){e.drain()});v(t,function(t){var o={data:t,callback:r||i};n?e.tasks.unshift(o):e.tasks.push(o),e.tasks.length===e.concurrency&&e.saturated()}),o.setImmediate(e.process)}function a(e,t){return function(){s-=1;var n=!1,r=arguments;v(t,function(e){v(u,function(t,r){t!==e||n||(u.splice(r,1),n=!0)}),e.callback.apply(e,r)}),e.tasks.length+s===0&&e.drain(),e.process()}}var s=0,u=[],c={tasks:[],concurrency:t,payload:n,saturated:i,empty:i,drain:i,started:!1,paused:!1,push:function(e,t){r(c,e,!1,t)},kill:function(){c.drain=i,c.tasks=[]},unshift:function(e,t){r(c,e,!0,t)},process:function(){for(;!c.paused&&s<c.concurrency&&c.tasks.length;){var t=c.payload?c.tasks.splice(0,c.payload):c.tasks.splice(0,c.tasks.length),n=g(t,function(e){return e.data});0===c.tasks.length&&c.empty(),s+=1,u.push(t[0]);var r=l(a(c,t));e(n,r)}},length:function(){return c.tasks.length},running:function(){return s},workersList:function(){return u},idle:function(){return c.tasks.length+s===0},pause:function(){c.paused=!0},resume:function(){if(!1!==c.paused){c.paused=!1;for(var e=Math.min(c.concurrency,c.tasks.length),t=1;t<=e;t++)o.setImmediate(c.process)}}};return c}function q(e){return _(function(t,n){t.apply(null,n.concat([_(function(t,n){"object"==typeof console&&(t?console.error&&console.error(t):console[e]&&v(n,function(t){console[e](t)}))})]))})}function B(e){return function(t,n,r){e(m(t),n,r)}}function M(e){return _(function(t,n){var r=_(function(n){var r=this,o=n.pop();return e(t,function(e,t,o){e.apply(r,n.concat([o]))},o)});return n.length?r.apply(this,n):r})}function D(e){return _(function(t){var n=t.pop();t.push(function(){var e=arguments;r?o.setImmediate(function(){n.apply(null,e)}):n.apply(null,e)});var r=!0;e.apply(this,t),r=!1})}"object"==typeof process&&"function"==typeof process.nextTick?o.nextTick=process.nextTick:o.nextTick=S,o.setImmediate=k?S:o.nextTick,o.forEach=o.each=function(e,t,n){return o.eachOf(e,x(t),n)},o.forEachSeries=o.eachSeries=function(e,t,n){return o.eachOfSeries(e,x(t),n)},o.forEachLimit=o.eachLimit=function(e,t,n,r){return E(t)(e,x(n),r)},o.forEachOf=o.eachOf=function(e,t,n){n=f(n||i);for(var r,o=w(e=e||[]),a=0;null!=(r=o());)a+=1,t(e[r],r,l(s));function s(e){a--,e?n(e):null===r&&a<=0&&n(null)}0===a&&n(null)},o.forEachOfSeries=o.eachOfSeries=function(e,t,n){n=f(n||i);var r=w(e=e||[]),a=r();!function i(){var s=!0;if(null===a)return n(null);t(e[a],a,l(function(e){if(e)n(e);else{if(null===(a=r()))return n(null);s?o.setImmediate(i):i()}})),s=!1}()},o.forEachOfLimit=o.eachOfLimit=function(e,t,n,r){E(t)(e,n,r)},o.map=O(T),o.mapSeries=A(T),o.mapLimit=j(T),o.inject=o.foldl=o.reduce=function(e,t,n,r){o.eachOfSeries(e,function(e,r,o){n(t,e,function(e,n){t=n,o(e)})},function(e){r(e,t)})},o.foldr=o.reduceRight=function(e,t,n,r){var i=g(e,a).reverse();o.reduce(i,t,n,r)},o.transform=function(e,t,n,r){3===arguments.length&&(r=n,n=t,t=d(e)?[]:{}),o.eachOf(e,function(e,r,o){n(t,e,r,o)},function(e){r(e,t)})},o.select=o.filter=O(C),o.selectLimit=o.filterLimit=j(C),o.selectSeries=o.filterSeries=A(C),o.reject=O(U),o.rejectLimit=j(U),o.rejectSeries=A(U),o.any=o.some=R(o.eachOf,s,a),o.someLimit=R(o.eachOfLimit,s,a),o.all=o.every=R(o.eachOf,u,u),o.everyLimit=R(o.eachOfLimit,u,u),o.detect=R(o.eachOf,a,I),o.detectSeries=R(o.eachOfSeries,a,I),o.detectLimit=R(o.eachOfLimit,a,I),o.sortBy=function(e,t,n){function r(e,t){var n=e.criteria,r=t.criteria;return n<r?-1:n>r?1:0}o.map(e,function(e,n){t(e,function(t,r){t?n(t):n(null,{value:e,criteria:r})})},function(e,t){if(e)return n(e);n(null,g(t.sort(r),function(e){return e.value}))})},o.auto=function(e,t,n){"function"==typeof arguments[1]&&(n=t,t=null),n=f(n||i);var r=b(e),a=r.length;if(!a)return n(null);t||(t=a);var s={},u=0,c=!1,l=[];function p(e){l.unshift(e)}function h(){a--,v(l.slice(0),function(e){e()})}p(function(){a||n(null,s)}),v(r,function(r){if(!c){for(var i,a=d(e[r])?e[r]:[e[r]],f=_(function(e,t){if(u--,t.length<=1&&(t=t[0]),e){var i={};l=function(e,t){i[t]=e},v(b(a=s),function(e){l(a[e],e)}),i[r]=t,c=!0,n(e,i)}else s[r]=t,o.setImmediate(h);var a,l}),g=a.slice(0,a.length-1),m=g.length;m--;){if(!(i=e[g[m]]))throw new Error("Has nonexistent dependency in "+g.join(", "));if(d(i)&&y(i,r)>=0)throw new Error("Has cyclic dependencies")}w()?(u++,a[a.length-1](f,s)):p(function e(){w()&&(u++,(t=y(l,e))>=0&&l.splice(t,1),a[a.length-1](f,s));var t})}function w(){return u<t&&(e=function(e,t){return e&&s.hasOwnProperty(t)},n=!0,v(g,function(t,r,o){n=e(n,t,r,o)}),n)&&!s.hasOwnProperty(r);var e,n}})},o.retry=function(e,t,n){var r=5,i=0,a=[],s={times:r,interval:i};var u=arguments.length;if(u<1||u>3)throw new Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)");function c(e,t){function n(e,n){return function(r){e(function(e,t){r(!e||n,{err:e,result:t})},t)}}function r(e){return function(t){setTimeout(function(){t(null)},e)}}for(;s.times;){var i=!(s.times-=1);a.push(n(s.task,i)),!i&&s.interval>0&&a.push(r(s.interval))}o.series(a,function(t,n){n=n[n.length-1],(e||s.callback)(n.err,n.result)})}return u<=2&&"function"==typeof e&&(n=t,t=e),"function"!=typeof e&&function(e,t){if("number"==typeof t)e.times=parseInt(t,10)||r;else{if("object"!=typeof t)throw new Error("Unsupported argument type for 'times': "+typeof t);e.times=parseInt(t.times,10)||r,e.interval=parseInt(t.interval,10)||i}}(s,e),s.callback=n,s.task=t,s.callback?c():c},o.waterfall=function(e,t){if(t=f(t||i),!d(e)){var n=new Error("First argument to waterfall must be an array of functions");return t(n)}if(!e.length)return t();!function e(n){return _(function(r,o){if(r)t.apply(null,[r].concat(o));else{var i=n.next();i?o.push(e(i)):o.push(t),D(n).apply(null,o)}})}(o.iterator(e))()},o.parallel=function(e,t){L(o.eachOf,e,t)},o.parallelLimit=function(e,t,n){L(E(t),e,n)},o.series=function(e,t){L(o.eachOfSeries,e,t)},o.iterator=function(e){return function t(n){function r(){return e.length&&e[n].apply(null,arguments),r.next()}return r.next=function(){return n<e.length-1?t(n+1):null},r}(0)},o.apply=_(function(e,t){return _(function(n){return e.apply(null,t.concat(n))})}),o.concat=O(P),o.concatSeries=A(P),o.whilst=function(e,t,n){if(n=n||i,e()){var r=_(function(o,i){o?n(o):e.apply(this,i)?t(r):n.apply(null,[null].concat(i))});t(r)}else n(null)},o.doWhilst=function(e,t,n){var r=0;return o.whilst(function(){return++r<=1||t.apply(this,arguments)},e,n)},o.until=function(e,t,n){return o.whilst(function(){return!e.apply(this,arguments)},t,n)},o.doUntil=function(e,t,n){return o.doWhilst(e,function(){return!t.apply(this,arguments)},n)},o.during=function(e,t,n){n=n||i;var r=_(function(t,r){t?n(t):(r.push(o),e.apply(this,r))}),o=function(e,o){e?n(e):o?t(r):n(null)};e(o)},o.doDuring=function(e,t,n){var r=0;o.during(function(e){r++<1?e(null,!0):t.apply(this,arguments)},e,n)},o.queue=function(e,t){return N(function(t,n){e(t[0],n)},t,1)},o.priorityQueue=function(e,t){function n(e,t){return e.priority-t.priority}var r=o.queue(e,t);return r.push=function(e,t,a){!function(e,t,r,a){if(null!=a&&"function"!=typeof a)throw new Error("task callback must be a function");if(e.started=!0,d(t)||(t=[t]),0===t.length)return o.setImmediate(function(){e.drain()});v(t,function(t){var s={data:t,priority:r,callback:"function"==typeof a?a:i};e.tasks.splice(function(e,t,n){for(var r=-1,o=e.length-1;r<o;){var i=r+(o-r+1>>>1);n(t,e[i])>=0?r=i:o=i-1}return r}(e.tasks,s,n)+1,0,s),e.tasks.length===e.concurrency&&e.saturated(),o.setImmediate(e.process)})}(r,e,t,a)},delete r.unshift,r},o.cargo=function(e,t){return N(e,1,t)},o.log=q("log"),o.dir=q("dir"),o.memoize=function(e,t){var n={},r={},i=Object.prototype.hasOwnProperty;t=t||a;var s=_(function(a){var s=a.pop(),u=t.apply(null,a);i.call(n,u)?o.setImmediate(function(){s.apply(null,n[u])}):i.call(r,u)?r[u].push(s):(r[u]=[s],e.apply(null,a.concat([_(function(e){n[u]=e;var t=r[u];delete r[u];for(var o=0,i=t.length;o<i;o++)t[o].apply(null,e)})])))});return s.memo=n,s.unmemoized=e,s},o.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}},o.times=B(o.map),o.timesSeries=B(o.mapSeries),o.timesLimit=function(e,t,n,r){return o.mapLimit(m(e),t,n,r)},o.seq=function(){var e=arguments;return _(function(t){var n=this,r=t[t.length-1];"function"==typeof r?t.pop():r=i,o.reduce(e,t,function(e,t,r){t.apply(n,e.concat([_(function(e,t){r(e,t)})]))},function(e,t){r.apply(n,[e].concat(t))})})},o.compose=function(){return o.seq.apply(null,Array.prototype.reverse.call(arguments))},o.applyEach=M(o.eachOf),o.applyEachSeries=M(o.eachOfSeries),o.forever=function(e,t){var n=l(t||i),r=D(e);!function e(t){if(t)return n(t);r(e)}()},o.ensureAsync=D,o.constant=_(function(e){var t=[null].concat(e);return function(e){return e.apply(this,t)}}),o.wrapSync=o.asyncify=function(e){return _(function(t){var n,r,o,i=t.pop();try{n=e.apply(this,t)}catch(e){return i(e)}("function"===(o=typeof(r=n))||"object"===o&&r)&&"function"==typeof n.then?n.then(function(e){i(null,e)}).catch(function(e){i(e.message?e:new Error(e))}):i(null,n)})},e.exports?e.exports=o:void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},function(e,t){var n="Expected a function",r="__lodash_hash_undefined__",o=1/0,i=9007199254740991,a="[object Function]",s="[object GeneratorFunction]",u="[object Symbol]",c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l=/^\w*$/,f=/^\./,p=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,d=/\\(\\)?/g,h=/^\[object .+?Constructor\]$/,v=/^(?:0|[1-9]\d*)$/,g="object"==typeof global&&global&&global.Object===Object&&global,m="object"==typeof self&&self&&self.Object===Object&&self,y=g||m||Function("return this")();var b,w=Array.prototype,_=Function.prototype,x=Object.prototype,k=y["__core-js_shared__"],S=(b=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||""))?"Symbol(src)_1."+b:"",E=_.toString,O=x.hasOwnProperty,j=x.toString,A=RegExp("^"+E.call(O).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),T=y.Symbol,C=w.splice,U=K(y,"Map"),R=K(Object,"create"),I=T?T.prototype:void 0,L=I?I.toString:void 0;function P(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function N(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function q(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function B(e,t,n){var r=e[t];O.call(e,t)&&W(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function M(e,t){for(var n=e.length;n--;)if(W(e[n][0],t))return n;return-1}function D(e){return!(!X(e)||S&&S in e)&&(function(e){var t=X(e)?j.call(e):"";return t==a||t==s}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?A:h).test(function(e){if(null!=e){try{return E.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function H(e,t,n,r){if(!X(e))return e;for(var o=-1,i=(t=function(e,t){if(G(e))return!1;var n=typeof e;if("number"==n||"symbol"==n||"boolean"==n||null==e||Z(e))return!0;return l.test(e)||!c.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:function(e){return G(e)?e:F(e)}(t)).length,a=i-1,s=e;null!=s&&++o<i;){var u=J(t[o]),f=n;if(o!=a){var p=s[u];void 0===(f=r?r(p,u,s):void 0)&&(f=X(p)?p:$(t[o+1])?[]:{})}B(s,u,f),s=s[u]}return e}function z(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function K(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return D(n)?n:void 0}function $(e,t){return!!(t=null==t?i:t)&&("number"==typeof e||v.test(e))&&e>-1&&e%1==0&&e<t}P.prototype.clear=function(){this.__data__=R?R(null):{}},P.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},P.prototype.get=function(e){var t=this.__data__;if(R){var n=t[e];return n===r?void 0:n}return O.call(t,e)?t[e]:void 0},P.prototype.has=function(e){var t=this.__data__;return R?void 0!==t[e]:O.call(t,e)},P.prototype.set=function(e,t){return this.__data__[e]=R&&void 0===t?r:t,this},N.prototype.clear=function(){this.__data__=[]},N.prototype.delete=function(e){var t=this.__data__,n=M(t,e);return!(n<0||(n==t.length-1?t.pop():C.call(t,n,1),0))},N.prototype.get=function(e){var t=this.__data__,n=M(t,e);return n<0?void 0:t[n][1]},N.prototype.has=function(e){return M(this.__data__,e)>-1},N.prototype.set=function(e,t){var n=this.__data__,r=M(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},q.prototype.clear=function(){this.__data__={hash:new P,map:new(U||N),string:new P}},q.prototype.delete=function(e){return z(this,e).delete(e)},q.prototype.get=function(e){return z(this,e).get(e)},q.prototype.has=function(e){return z(this,e).has(e)},q.prototype.set=function(e,t){return z(this,e).set(e,t),this};var F=V(function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(Z(e))return L?L.call(e):"";var t=e+"";return"0"==t&&1/e==-o?"-0":t}(t);var n=[];return f.test(e)&&n.push(""),e.replace(p,function(e,t,r,o){n.push(r?o.replace(d,"$1"):t||e)}),n});function J(e){if("string"==typeof e||Z(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}function V(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(n);var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=e.apply(this,n);return r.cache=i.set(o,a),a};return r.cache=new(V.Cache||q),r}function W(e,t){return e===t||e!=e&&t!=t}V.Cache=q;var G=Array.isArray;function X(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Z(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&j.call(e)==u}e.exports=function(e,t,n){return null==e?e:H(e,t,n)}},function(e,t,n){"use strict";var r=n(19);e.exports=function(e,t,n){return function(o,i,a){var s=r(a);return!0===e||"function"==typeof e&&e(o,i,s)?t(o,i,s):n?n(o,i,s):s()}}},function(e,t,n){var r=n(20);function o(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function i(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}e.exports=r(o),e.exports.strict=r(i),o.proto=o(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return o(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return i(this)},configurable:!0})})},function(e,t){e.exports=function e(t,n){if(t&&n)return e(t)(n);if("function"!=typeof t)throw new TypeError("need wrapper function");Object.keys(t).forEach(function(e){r[e]=t[e]});return r;function r(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var r=t.apply(this,e),o=e[e.length-1];return"function"==typeof r&&r!==o&&Object.keys(o).forEach(function(e){r[e]=o[e]}),r}}},function(e,t,n){const r=n(9),o=n(12),i=n(22),a=n(3),s=n(18),u=n(3).UnauthorizedError;e.exports=function(e){if(!e||"object"!=typeof e)throw new a.ArgumentError("Must provide the options");if(null===e.domain||void 0===e.domain)throw new a.ArgumentError("Must provide a valid domain");if("string"!=typeof e.domain||0===e.domain.length)throw new a.ArgumentError("The provided domain is invalid: "+e.domain);if(null===e.audience||void 0===e.audience)throw new a.ArgumentError("Must provide a valid audience");if("string"!=typeof e.audience||0===e.audience.length)throw new a.ArgumentError("The provided audience is invalid: "+e.audience);const t=o({secret:i.expressJwtSecret({cache:!0,rateLimit:!0,jwksRequestsPerMinute:5,jwksUri:"https://"+e.domain+"/.well-known/jwks.json",handleSigningKeyError:function(e,t){return e instanceof i.SigningKeyNotFoundError?t(new u("A token was provided with an invalid kid")):t(e)}}),audience:e.audience,issuer:"https://"+e.domain+"/",algorithms:["RS256"],credentialsRequired:e&&e.credentialsRequired||!0});return function(n,r,o){t(n,r,function(t){return t?o(t):e.onLoginSuccess?e.onLoginSuccess(n,r,o):o()})}},e.exports.optional=function(t){const n=e.exports(t);return s(function(e){if(e&&e.headers&&e.headers.authorization&&0===e.headers.authorization.indexOf("Bearer "))try{const n=r(e.headers.authorization.split(" ")[1]);return n&&n.iss==="https://"+t.domain+"/"}catch(e){return!1}return!1},n)}},function(e,t,n){"use strict";var r=n(23),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(80)),i=n(82),a=n(83),s=n(84),u=n(85);e.exports=function(e){return new r.JwksClient(e)},e.exports.ArgumentError=o.ArgumentError,e.exports.JwksError=o.JwksError,e.exports.JwksRateLimitError=o.JwksRateLimitError,e.exports.SigningKeyNotFoundError=o.SigningKeyNotFoundError,e.exports.expressJwtSecret=a.expressJwtSecret,e.exports.hapiJwt2Key=i.hapiJwt2Key,e.exports.hapiJwt2KeyAsync=i.hapiJwt2KeyAsync,e.exports.koaJwtSecret=s.koaJwtSecret,e.exports.passportJwtSecret=u.passportJwtSecret},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JwksClient=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=f(n(24)),a=f(n(25)),s=f(n(60)),u=f(n(61)),c=n(62),l=n(63);function f(e){return e&&e.__esModule?e:{default:e}}t.JwksClient=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getSigningKey=function(e,t){n.logger("Fetching signing key for '"+e+"'"),n.getSigningKeys(function(r,o){if(r)return t(r);var i=void 0!==e&&null!==e;if(!i&&o.length>1)return n.logger("No KID specified and JWKS endpoint returned more than 1 key"),t(new u.default("No KID specified and JWKS endpoint returned more than 1 key"));var a=o.find(function(t){return!i||t.kid===e});return a?t(null,a):(n.logger("Unable to find a signing key that matches '"+e+"'"),t(new u.default("Unable to find a signing key that matches '"+e+"'")))})},this.options=r({rateLimit:!1,cache:!0,timeout:3e4},t),this.logger=(0,i.default)("jwks"),this.options.rateLimit&&(this.getSigningKey=(0,l.rateLimitSigningKey)(this,t)),this.options.cache&&(this.getSigningKey=(0,l.cacheSigningKey)(this,t))}return o(e,[{key:"getKeys",value:function(e){var t=this;this.logger("Fetching keys from '"+this.options.jwksUri+"'"),(0,a.default)({uri:this.options.jwksUri,strictSSL:this.options.strictSsl,headers:this.options.requestHeaders,agentOptions:this.options.requestAgentOptions,proxy:this.options.proxy,timeout:this.options.timeout},function(n,r){if(n){var o=n.response;return t.logger("Failure:",o&&o.data||n),e(o?new s.default(o.data||o.statusText||"Http Error "+o.status):n)}return t.logger("Keys:",r.data.keys),e(null,r.data.keys)})}},{key:"getSigningKeys",value:function(e){var t=this;this.getKeys(function(n,r){if(n)return e(n);if(!r||!r.length)return e(new s.default("The JWKS endpoint did not contain any keys"));var o=r.filter(function(e){return"RSA"===e.kty&&((!e.hasOwnProperty("use")||"sig"===e.use)&&(e.x5c&&e.x5c.length||e.n&&e.e))}).map(function(e){var t={kid:e.kid,nbf:e.nbf};return e.x5c&&e.x5c.length?(t.publicKey=(0,c.certToPEM)(e.x5c[0]),t.getPublicKey=function(){return t.publicKey}):(t.rsaPublicKey=(0,c.rsaPublicKeyToPEM)(e.n,e.e),t.getPublicKey=function(){return t.rsaPublicKey}),t});return o.length?(t.logger("Signing Keys:",o),e(null,o)):e(new s.default("The JWKS endpoint did not contain any signing keys"))})}}]),e}()},function(e,t){e.exports=require("debug@2.2.0")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=function(e,t){var n={baseURL:e.uri,headers:e.headers,timeout:e.timeout};if(e.proxy){var c=s.default.parse(e.proxy),l=c.auth.split(":"),f=o(l,2),p=f[0],d=f[1];n.proxy={host:c.hostname,port:c.port,auth:{username:p,password:d}}}if(e.agentOptions||e.strictSSL){var h=r({},e.strictSSL&&{rejectUnauthorized:e.strictSSL},e.agentOptions);n.httpAgent=new i.default.Agent(h),n.httpsAgent=new a.default.Agent(h)}(0,u.request)(n).then(function(e){return t(null,e)}).catch(function(e){return t(e)})};var i=c(n(26)),a=c(n(27)),s=c(n(6)),u=n(28);function c(e){return e&&e.__esModule?e:{default:e}}},function(e,t){e.exports=require("http")},function(e,t){e.exports=require("https")},function(e,t,n){e.exports=n(29)},function(e,t,n){"use strict";var r=n(30),o=n(31),i=n(32),a=n(56);function s(e){var t=new i(e),n=o(i.prototype.request,t);return r.extend(n,i.prototype,t),r.extend(n,t),n}var u=s(n(38));u.Axios=i,u.create=function(e){return s(a(u.defaults,e))},u.Cancel=n(57),u.CancelToken=n(58),u.isCancel=n(37),u.all=function(e){return Promise.all(e)},u.spread=n(59),e.exports=u,e.exports.default=u},function(e,t,n){"use strict";var r=n(31),o=Object.prototype.toString;function i(e){return"[object Array]"===o.call(e)}function a(e){return void 0===e}function s(e){return null!==e&&"object"==typeof e}function u(e){return"[object Function]"===o.call(e)}function c(e,t){if(null!==e&&void 0!==e)if("object"!=typeof e&&(e=[e]),i(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:i,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isUndefined:a,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:u,isStream:function(e){return s(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,o=arguments.length;r<o;r++)c(arguments[r],n);return t},deepMerge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]="object"==typeof n?e({},n):n}for(var r=0,o=arguments.length;r<o;r++)c(arguments[r],n);return t},extend:function(e,t,n){return c(t,function(t,o){e[o]=n&&"function"==typeof t?r(t,n):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(30),o=n(33),i=n(34),a=n(35),s=n(56);function u(e){this.defaults=e,this.interceptors={request:new i,response:new i}}u.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},u.prototype.getUri=function(e){return e=s(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],function(e){u.prototype[e]=function(t,n){return this.request(r.merge(n||{},{method:e,url:t}))}}),r.forEach(["post","put","patch"],function(e){u.prototype[e]=function(t,n,o){return this.request(r.merge(o||{},{method:e,url:t,data:n}))}}),e.exports=u},function(e,t,n){"use strict";var r=n(30);function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var a=[];r.forEach(t,function(e,t){null!==e&&void 0!==e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))}))}),i=a.join("&")}if(i){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},function(e,t,n){"use strict";var r=n(30);function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=o},function(e,t,n){"use strict";var r=n(30),o=n(36),i=n(37),a=n(38);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||a.adapter)(e).then(function(t){return s(e),t.data=o(t.data,t.headers,e.transformResponse),t},function(t){return i(t)||(s(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,n){"use strict";var r=n(30);e.exports=function(e,t,n){return r.forEach(n,function(n){e=n(e,t)}),e}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";var r=n(30),o=n(39),i={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s,u={adapter:("undefined"!=typeof XMLHttpRequest?s=n(40):"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)&&(s=n(50)),s),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],function(e){u.headers[e]={}}),r.forEach(["post","put","patch"],function(e){u.headers[e]=r.merge(i)}),e.exports=u},function(e,t,n){"use strict";var r=n(30);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},function(e,t,n){"use strict";var r=n(30),o=n(41),i=n(33),a=n(44),s=n(47),u=n(48),c=n(42);e.exports=function(e){return new Promise(function(t,l){var f=e.data,p=e.headers;r.isFormData(f)&&delete p["Content-Type"];var d=new XMLHttpRequest;if(e.auth){var h=e.auth.username||"",v=e.auth.password||"";p.Authorization="Basic "+btoa(h+":"+v)}var g=a(e.baseURL,e.url);if(d.open(e.method.toUpperCase(),i(g,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in d?s(d.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:n,config:e,request:d};o(t,l,r),d=null}},d.onabort=function(){d&&(l(c("Request aborted",e,"ECONNABORTED",d)),d=null)},d.onerror=function(){l(c("Network Error",e,null,d)),d=null},d.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),l(c(t,e,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var m=n(49),y=(e.withCredentials||u(g))&&e.xsrfCookieName?m.read(e.xsrfCookieName):void 0;y&&(p[e.xsrfHeaderName]=y)}if("setRequestHeader"in d&&r.forEach(p,function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete p[t]:d.setRequestHeader(t,e)}),r.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),e.responseType)try{d.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){d&&(d.abort(),l(e),d=null)}),void 0===f&&(f=null),d.send(f)})}},function(e,t,n){"use strict";var r=n(42);e.exports=function(e,t,n){var o=n.config.validateStatus;!o||o(n.status)?e(n):t(r("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(e,t,n){"use strict";var r=n(43);e.exports=function(e,t,n,o,i){var a=new Error(e);return r(a,t,n,o,i)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use strict";var r=n(45),o=n(46);e.exports=function(e,t){return e&&!r(t)?o(e,t):t}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(30),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,a={};return e?(r.forEach(e.split("\n"),function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}}),a):a}},function(e,t,n){"use strict";var r=n(30);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(30);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(o)&&s.push("path="+o),r.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(30),o=n(41),i=n(44),a=n(33),s=n(26),u=n(27),c=n(51).http,l=n(51).https,f=n(6),p=n(54),d=n(55),h=n(42),v=n(43),g=/https:?/;e.exports=function(e){return new Promise(function(t,n){var m=function(e){t(e)},y=function(e){n(e)},b=e.data,w=e.headers;if(w["User-Agent"]||w["user-agent"]||(w["User-Agent"]="axios/"+d.version),b&&!r.isStream(b)){if(Buffer.isBuffer(b));else if(r.isArrayBuffer(b))b=Buffer.from(new Uint8Array(b));else{if(!r.isString(b))return y(h("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",e));b=Buffer.from(b,"utf-8")}w["Content-Length"]=b.length}var _=void 0;e.auth&&(_=(e.auth.username||"")+":"+(e.auth.password||""));var x=i(e.baseURL,e.url),k=f.parse(x),S=k.protocol||"http:";if(!_&&k.auth){var E=k.auth.split(":");_=(E[0]||"")+":"+(E[1]||"")}_&&delete w.Authorization;var O=g.test(S),j=O?e.httpsAgent:e.httpAgent,A={path:a(k.path,e.params,e.paramsSerializer).replace(/^\?/,""),method:e.method.toUpperCase(),headers:w,agent:j,agents:{http:e.httpAgent,https:e.httpsAgent},auth:_};e.socketPath?A.socketPath=e.socketPath:(A.hostname=k.hostname,A.port=k.port);var T,C=e.proxy;if(!C&&!1!==C){var U=S.slice(0,-1)+"_proxy",R=Object({AUTHZ_API_URL:"adf6e2f2b84784b57522e3b19dfc9201/api",NODE_ENV:"production",CLIENT_VERSION:"2.4.0"})[U]||Object({AUTHZ_API_URL:"adf6e2f2b84784b57522e3b19dfc9201/api",NODE_ENV:"production",CLIENT_VERSION:"2.4.0"})[U.toUpperCase()];if(R){var I=f.parse(R),L=Object({AUTHZ_API_URL:"adf6e2f2b84784b57522e3b19dfc9201/api",NODE_ENV:"production",CLIENT_VERSION:"2.4.0"}).no_proxy||Object({AUTHZ_API_URL:"adf6e2f2b84784b57522e3b19dfc9201/api",NODE_ENV:"production",CLIENT_VERSION:"2.4.0"}).NO_PROXY,P=!0;if(L)P=!L.split(",").map(function(e){return e.trim()}).some(function(e){return!!e&&("*"===e||("."===e[0]&&k.hostname.substr(k.hostname.length-e.length)===e||k.hostname===e))});if(P&&(C={host:I.hostname,port:I.port},I.auth)){var N=I.auth.split(":");C.auth={username:N[0],password:N[1]}}}}if(C&&(A.hostname=C.host,A.host=C.host,A.headers.host=k.hostname+(k.port?":"+k.port:""),A.port=C.port,A.path=S+"//"+k.hostname+(k.port?":"+k.port:"")+A.path,C.auth)){var q=Buffer.from(C.auth.username+":"+C.auth.password,"utf8").toString("base64");A.headers["Proxy-Authorization"]="Basic "+q}var B=O&&(!C||g.test(C.protocol));e.transport?T=e.transport:0===e.maxRedirects?T=B?u:s:(e.maxRedirects&&(A.maxRedirects=e.maxRedirects),T=B?l:c),e.maxContentLength&&e.maxContentLength>-1&&(A.maxBodyLength=e.maxContentLength);var M=T.request(A,function(t){if(!M.aborted){var n=t;switch(t.headers["content-encoding"]){case"gzip":case"compress":case"deflate":n=204===t.statusCode?n:n.pipe(p.createUnzip()),delete t.headers["content-encoding"]}var r=t.req||M,i={status:t.statusCode,statusText:t.statusMessage,headers:t.headers,config:e,request:r};if("stream"===e.responseType)i.data=n,o(m,y,i);else{var a=[];n.on("data",function(t){a.push(t),e.maxContentLength>-1&&Buffer.concat(a).length>e.maxContentLength&&(n.destroy(),y(h("maxContentLength size of "+e.maxContentLength+" exceeded",e,null,r)))}),n.on("error",function(t){M.aborted||y(v(t,e,null,r))}),n.on("end",function(){var t=Buffer.concat(a);"arraybuffer"!==e.responseType&&(t=t.toString(e.responseEncoding)),i.data=t,o(m,y,i)})}}});M.on("error",function(t){M.aborted||y(v(t,e,null,M))}),e.timeout&&M.setTimeout(e.timeout,function(){M.abort(),y(h("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",M))}),e.cancelToken&&e.cancelToken.promise.then(function(e){M.aborted||(M.abort(),y(e))}),r.isStream(b)?b.on("error",function(t){y(v(t,e,null,M))}).pipe(M):M.end(b)})}},function(e,t,n){var r=n(6),o=n(26),i=n(27),a=n(52),s=n(53).Writable,u=n(24)("follow-redirects"),c={GET:!0,HEAD:!0,OPTIONS:!0,TRACE:!0},l=Object.create(null);function f(e,t){s.call(this),e.headers=e.headers||{},this._options=e,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],e.host&&(e.hostname||(e.hostname=e.host),delete e.host),t&&this.on("response",t);var n=this;if(this._onNativeResponse=function(e){n._processResponse(e)},!e.pathname&&e.path){var r=e.path.indexOf("?");r<0?e.pathname=e.path:(e.pathname=e.path.substring(0,r),e.search=e.path.substring(r))}this._performRequest()}function p(e){var t={maxRedirects:21,maxBodyLength:10485760},n={};return Object.keys(e).forEach(function(o){var i=o+":",s=n[i]=e[o],c=t[o]=Object.create(s);c.request=function(e,o){return"string"==typeof e?(e=r.parse(e)).maxRedirects=t.maxRedirects:e=Object.assign({protocol:i,maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},e),e.nativeProtocols=n,a.equal(e.protocol,i,"protocol mismatch"),u("options",e),new f(e,o)},c.get=function(e,t){var n=c.request(e,t);return n.end(),n}}),t}["abort","aborted","error","socket","timeout"].forEach(function(e){l[e]=function(t){this._redirectable.emit(e,t)}}),f.prototype=Object.create(s.prototype),f.prototype.write=function(e,t,n){if(!("string"==typeof e||"object"==typeof e&&"length"in e))throw new Error("data should be a string, Buffer or Uint8Array");"function"==typeof t&&(n=t,t=null),0!==e.length?this._requestBodyLength+e.length<=this._options.maxBodyLength?(this._requestBodyLength+=e.length,this._requestBodyBuffers.push({data:e,encoding:t}),this._currentRequest.write(e,t,n)):(this.emit("error",new Error("Request body larger than maxBodyLength limit")),this.abort()):n&&n()},f.prototype.end=function(e,t,n){"function"==typeof e?(n=e,e=t=null):"function"==typeof t&&(n=t,t=null);var r=this._currentRequest;this.write(e||"",t,function(){r.end(null,null,n)})},f.prototype.setHeader=function(e,t){this._options.headers[e]=t,this._currentRequest.setHeader(e,t)},f.prototype.removeHeader=function(e){delete this._options.headers[e],this._currentRequest.removeHeader(e)},["abort","flushHeaders","getHeader","setNoDelay","setSocketKeepAlive","setTimeout"].forEach(function(e){f.prototype[e]=function(t,n){return this._currentRequest[e](t,n)}}),["aborted","connection","socket"].forEach(function(e){Object.defineProperty(f.prototype,e,{get:function(){return this._currentRequest[e]}})}),f.prototype._performRequest=function(){var e=this._options.protocol,t=this._options.nativeProtocols[e];if(t){if(this._options.agents){var n=e.substr(0,e.length-1);this._options.agent=this._options.agents[n]}var o=this._currentRequest=t.request(this._options,this._onNativeResponse);for(var i in this._currentUrl=r.format(this._options),o._redirectable=this,l)i&&o.on(i,l[i]);if(this._isRedirect){var a=0,s=this._requestBodyBuffers;!function e(){if(a<s.length){var t=s[a++];o.write(t.data,t.encoding,e)}else o.end()}()}}else this.emit("error",new Error("Unsupported protocol "+e))},f.prototype._processResponse=function(e){this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:e.headers,statusCode:e.statusCode});var t=e.headers.location;if(t&&!1!==this._options.followRedirects&&e.statusCode>=300&&e.statusCode<400){if(++this._redirectCount>this._options.maxRedirects)return void this.emit("error",new Error("Max redirects exceeded."));var n,o=this._options.headers;if(307!==e.statusCode&&!(this._options.method in c))for(n in this._options.method="GET",this._requestBodyBuffers=[],o)/^content-/i.test(n)&&delete o[n];if(!this._isRedirect)for(n in o)/^host$/i.test(n)&&delete o[n];var i=r.resolve(this._currentUrl,t);u("redirecting to",i),Object.assign(this._options,r.parse(i)),this._isRedirect=!0,this._performRequest(),e.destroy()}else e.responseUrl=this._currentUrl,e.redirects=this._redirects,this.emit("response",e),this._requestBodyBuffers=[]},e.exports=p({http:o,https:i}),e.exports.wrap=p},function(e,t){e.exports=require("assert")},function(e,t){e.exports=require("stream")},function(e,t){e.exports=require("zlib")},function(e){e.exports=JSON.parse('{"_from":"axios@^0.19.2","_id":"axios@0.19.2","_inBundle":false,"_integrity":"sha512-fjgm5MvRHLhx+osE2xoekY70AhARk3a6hkN+3Io1jc00jtquGvxYlKlsFUhmUET0V5te6CcZI7lcv2Ym61mjHA==","_location":"/jwks-rsa/axios","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"axios@^0.19.2","name":"axios","escapedName":"axios","rawSpec":"^0.19.2","saveSpec":null,"fetchSpec":"^0.19.2"},"_requiredBy":["/jwks-rsa"],"_resolved":"https://registry.npmjs.org/axios/-/axios-0.19.2.tgz","_shasum":"3ea36c5d8818d0d5f8a8a97a6d36b86cdc00cb27","_spec":"axios@^0.19.2","_where":"/Users/danbaker/workspace/auth0-sso-dashboard-extension/node_modules/jwks-rsa","author":{"name":"Matt Zabriskie"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"bugs":{"url":"https://github.com/axios/axios/issues"},"bundleDependencies":false,"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}],"dependencies":{"follow-redirects":"1.5.10"},"deprecated":false,"description":"Promise based HTTP client for the browser and node.js","devDependencies":{"bundlesize":"^0.17.0","coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.0.2","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^20.1.0","grunt-karma":"^2.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^1.0.18","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^1.3.0","karma-chrome-launcher":"^2.2.0","karma-coverage":"^1.1.1","karma-firefox-launcher":"^1.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-opera-launcher":"^1.0.0","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^1.2.0","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.7","karma-webpack":"^1.7.0","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^5.2.0","sinon":"^4.5.0","typescript":"^2.8.1","url-search-params":"^0.10.0","webpack":"^1.13.1","webpack-dev-server":"^1.14.1"},"homepage":"https://github.com/axios/axios","keywords":["xhr","http","ajax","promise","node"],"license":"MIT","main":"index.js","name":"axios","repository":{"type":"git","url":"git+https://github.com/axios/axios.git"},"scripts":{"build":"NODE_ENV=production grunt build","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","examples":"node ./examples/server.js","fix":"eslint --fix lib/**/*.js","postversion":"git push && git push --tags","preversion":"npm test","start":"node ./sandbox/server.js","test":"grunt test && bundlesize","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"},"typings":"./index.d.ts","version":"0.19.2"}')},function(e,t,n){"use strict";var r=n(30);e.exports=function(e,t){t=t||{};var n={},o=["url","method","params","data"],i=["headers","auth","proxy"],a=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];r.forEach(o,function(e){void 0!==t[e]&&(n[e]=t[e])}),r.forEach(i,function(o){r.isObject(t[o])?n[o]=r.deepMerge(e[o],t[o]):void 0!==t[o]?n[o]=t[o]:r.isObject(e[o])?n[o]=r.deepMerge(e[o]):void 0!==e[o]&&(n[o]=e[o])}),r.forEach(a,function(r){void 0!==t[r]?n[r]=t[r]:void 0!==e[r]&&(n[r]=e[r])});var s=o.concat(i).concat(a),u=Object.keys(t).filter(function(e){return-1===s.indexOf(e)});return r.forEach(u,function(r){void 0!==t[r]?n[r]=t[r]:void 0!==e[r]&&(n[r]=e[r])}),n}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){"use strict";var r=n(57);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new r(e),t(n.reason))})}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o(function(t){e=t}),cancel:e}},e.exports=o},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";function r(e){Error.call(this,e),Error.captureStackTrace(this,this.constructor),this.name="JwksError",this.message=e}r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,e.exports=r},function(e,t,n){"use strict";function r(e){Error.call(this,e),Error.captureStackTrace(this,this.constructor),this.name="SigningKeyNotFoundError",this.message=e}r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,e.exports=r},function(e,t,n){"use strict";function r(e){var t=e[0];return t<"0"||t>"7"?"00"+e:e}function o(e){var t=e.toString(16);return t.length%2?"0"+t:t}function i(e){if(e<=127)return o(e);var t=o(e);return o(128+t.length/2)+t}Object.defineProperty(t,"__esModule",{value:!0}),t.certToPEM=function(e){return e="-----BEGIN CERTIFICATE-----\n"+(e=e.match(/.{1,64}/g).join("\n"))+"\n-----END CERTIFICATE-----\n"},t.rsaPublicKeyToPEM=function(e,t){var n=new Buffer(e,"base64"),o=new Buffer(t,"base64"),a=r(n.toString("hex")),s=r(o.toString("hex")),u=a.length/2,c=s.length/2,l=i(u),f=i(c),p="30"+i(u+c+l.length/2+f.length/2+2)+"02"+l+a+"02"+f+s,d=new Buffer(p,"hex").toString("base64"),h="-----BEGIN RSA PUBLIC KEY-----\n";return h+=""+d.match(/.{1,64}/g).join("\n"),h+="\n-----END RSA PUBLIC KEY-----\n"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rateLimitSigningKey=t.cacheSigningKey=void 0;var r=i(n(64)),o=i(n(74));function i(e){return e&&e.__esModule?e:{default:e}}t.cacheSigningKey=r.default,t.rateLimitSigningKey=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:options,n=t.cacheMaxEntries,a=void 0===n?5:n,s=t.cacheMaxAge,u=void 0===s?(0,r.default)("10m"):s,c=(0,o.default)("jwks"),l=e.getSigningKey;return c("Configured caching of singing keys. Max: "+a+" / Age: "+u),(0,i.default)({load:function(e,t){l(e,function(n,r){return n?t(n):(c("Caching signing key for '"+e+"':",r),t(null,r))})},hash:function(e){return e},maxAge:u,max:a})};var r=a(n(65)),o=a(n(24)),i=a(n(66));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t){e.exports=require("ms@0.7.1")},function(e,t,n){"use strict";var r=n(67);e.exports=r.asyncMemoizer},function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(68)),u=n(69),c=a(n(70)),l=n(72),f=n(73);function p(e){var t=new s.default(e),n=e.load,r=e.hash,a=e.bypass,f=e.itemMaxAge,p=e.freeze,d=e.clone,h=e.queueMaxAge||1e3,v=new Map,g=new u.EventEmitter,m=Object.assign({del:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=r.apply(void 0,o(e));t.del(i)},reset:function(){return t.reset()},keys:t.keys.bind(t),on:g.on.bind(g),once:g.once.bind(g)},e);if(e.disable)return Object.assign(n,m);function y(e,t){var n,r;try{for(var a=i(e),s=a.next();!s.done;s=a.next()){var u=s.value;d?setImmediate.apply(void 0,o([u],t.map(c.default))):setImmediate.apply(void 0,o([u],t))}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}function b(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];g.emit.apply(g,o([e],t))}return Object.assign(function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var s,u=e.slice(0,-1),c=e.slice(-1).pop();if(a&&a.apply(void 0,o(u)))return b.apply(void 0,o(["miss"],u)),n.apply(void 0,o(e));s=0!==u.length||r?r.apply(void 0,o(u)):"_";var d=t.get(s);if(d)return b.apply(void 0,o(["hit"],u)),y([c],[null].concat(d));var g=v.get(s);if(g&&g.expiresAt>Date.now())return g.queue.push(c),void b.apply(void 0,o(["queue"],u));b.apply(void 0,o(["miss"],u));var m=Date.now(),w=[c];v.set(s,{queue:w,expiresAt:m+h}),n.apply(void 0,o(u,[function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];e[0]||function(e,n,r){p&&r.forEach(l.deepFreeze),f?t.set(e,r,f.apply(void 0,o(n.concat(r)))):t.set(e,r)}(s,u,e.slice(1)),v.delete(s),b.apply(void 0,o(["loaded",Date.now()-m],u)),y(w,e)}]))},m)}t.asyncMemoizer=p,p.sync=f.syncMemoizer},function(e,t){e.exports=require("lru-cache@2.6.4")},function(e,t){e.exports=require("events")},function(e,t,n){(function(e){var n=200,r="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",a="[object Boolean]",s="[object Date]",u="[object Function]",c="[object GeneratorFunction]",l="[object Map]",f="[object Number]",p="[object Object]",d="[object RegExp]",h="[object Set]",v="[object String]",g="[object Symbol]",m="[object ArrayBuffer]",y="[object DataView]",b="[object Float32Array]",w="[object Float64Array]",_="[object Int8Array]",x="[object Int16Array]",k="[object Int32Array]",S="[object Uint8Array]",E="[object Uint8ClampedArray]",O="[object Uint16Array]",j="[object Uint32Array]",A=/\w*$/,T=/^\[object .+?Constructor\]$/,C=/^(?:0|[1-9]\d*)$/,U={};U[i]=U["[object Array]"]=U[m]=U[y]=U[a]=U[s]=U[b]=U[w]=U[_]=U[x]=U[k]=U[l]=U[f]=U[p]=U[d]=U[h]=U[v]=U[g]=U[S]=U[E]=U[O]=U[j]=!0,U["[object Error]"]=U[u]=U["[object WeakMap]"]=!1;var R="object"==typeof global&&global&&global.Object===Object&&global,I="object"==typeof self&&self&&self.Object===Object&&self,L=R||I||Function("return this")(),P=t&&!t.nodeType&&t,N=P&&"object"==typeof e&&e&&!e.nodeType&&e,q=N&&N.exports===P;function B(e,t){return e.set(t[0],t[1]),e}function M(e,t){return e.add(t),e}function D(e,t,n,r){var o=-1,i=e?e.length:0;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function H(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function z(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function K(e,t){return function(n){return e(t(n))}}function $(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}var F,J=Array.prototype,V=Function.prototype,W=Object.prototype,G=L["__core-js_shared__"],X=(F=/[^.]+$/.exec(G&&G.keys&&G.keys.IE_PROTO||""))?"Symbol(src)_1."+F:"",Z=V.toString,Y=W.hasOwnProperty,Q=W.toString,ee=RegExp("^"+Z.call(Y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),te=q?L.Buffer:void 0,ne=L.Symbol,re=L.Uint8Array,oe=K(Object.getPrototypeOf,Object),ie=Object.create,ae=W.propertyIsEnumerable,se=J.splice,ue=Object.getOwnPropertySymbols,ce=te?te.isBuffer:void 0,le=K(Object.keys,Object),fe=Ne(L,"DataView"),pe=Ne(L,"Map"),de=Ne(L,"Promise"),he=Ne(L,"Set"),ve=Ne(L,"WeakMap"),ge=Ne(Object,"create"),me=He(fe),ye=He(pe),be=He(de),we=He(he),_e=He(ve),xe=ne?ne.prototype:void 0,ke=xe?xe.valueOf:void 0;function Se(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ee(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Oe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function je(e){this.__data__=new Ee(e)}function Ae(e,t){var n=Ke(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&$e(e)}(e)&&Y.call(e,"callee")&&(!ae.call(e,"callee")||Q.call(e)==i)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,o=!!r;for(var a in e)!t&&!Y.call(e,a)||o&&("length"==a||Me(a,r))||n.push(a);return n}function Te(e,t,n){var r=e[t];Y.call(e,t)&&ze(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function Ce(e,t){for(var n=e.length;n--;)if(ze(e[n][0],t))return n;return-1}function Ue(e,t,n,r,o,T,C){var R;if(r&&(R=T?r(e,o,T,C):r(e)),void 0!==R)return R;if(!Ve(e))return e;var I=Ke(e);if(I){if(R=function(e){var t=e.length,n=e.constructor(t);t&&"string"==typeof e[0]&&Y.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!t)return function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(e,R)}else{var L=Be(e),P=L==u||L==c;if(Fe(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if(L==p||L==i||P&&!T){if(H(e))return T?e:{};if(R=function(e){return"function"!=typeof e.constructor||De(e)?{}:(t=oe(e),Ve(t)?ie(t):{});var t}(P?{}:e),!t)return function(e,t){return Le(e,qe(e),t)}(e,function(e,t){return e&&Le(t,We(t),e)}(R,e))}else{if(!U[L])return T?e:{};R=function(e,t,n,r){var o=e.constructor;switch(t){case m:return Ie(e);case a:case s:return new o(+e);case y:return function(e,t){var n=t?Ie(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,r);case b:case w:case _:case x:case k:case S:case E:case O:case j:return function(e,t){var n=t?Ie(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,r);case l:return function(e,t,n){return D(t?n(z(e),!0):z(e),B,new e.constructor)}(e,r,n);case f:case v:return new o(e);case d:return(c=new(u=e).constructor(u.source,A.exec(u))).lastIndex=u.lastIndex,c;case h:return function(e,t,n){return D(t?n($(e),!0):$(e),M,new e.constructor)}(e,r,n);case g:return i=e,ke?Object(ke.call(i)):{}}var i;var u,c}(e,L,Ue,t)}}C||(C=new je);var N=C.get(e);if(N)return N;if(C.set(e,R),!I)var q=n?function(e){return function(e,t,n){var r=t(e);return Ke(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,We,qe)}(e):We(e);return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););}(q||e,function(o,i){q&&(o=e[i=o]),Te(R,i,Ue(o,t,n,r,i,e,C))}),R}function Re(e){return!(!Ve(e)||X&&X in e)&&(Je(e)||H(e)?ee:T).test(He(e))}function Ie(e){var t=new e.constructor(e.byteLength);return new re(t).set(new re(e)),t}function Le(e,t,n,r){n||(n={});for(var o=-1,i=t.length;++o<i;){var a=t[o],s=r?r(n[a],e[a],a,n,e):void 0;Te(n,a,void 0===s?e[a]:s)}return n}function Pe(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function Ne(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Re(n)?n:void 0}Se.prototype.clear=function(){this.__data__=ge?ge(null):{}},Se.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Se.prototype.get=function(e){var t=this.__data__;if(ge){var n=t[e];return n===r?void 0:n}return Y.call(t,e)?t[e]:void 0},Se.prototype.has=function(e){var t=this.__data__;return ge?void 0!==t[e]:Y.call(t,e)},Se.prototype.set=function(e,t){return this.__data__[e]=ge&&void 0===t?r:t,this},Ee.prototype.clear=function(){this.__data__=[]},Ee.prototype.delete=function(e){var t=this.__data__,n=Ce(t,e);return!(n<0||(n==t.length-1?t.pop():se.call(t,n,1),0))},Ee.prototype.get=function(e){var t=this.__data__,n=Ce(t,e);return n<0?void 0:t[n][1]},Ee.prototype.has=function(e){return Ce(this.__data__,e)>-1},Ee.prototype.set=function(e,t){var n=this.__data__,r=Ce(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Oe.prototype.clear=function(){this.__data__={hash:new Se,map:new(pe||Ee),string:new Se}},Oe.prototype.delete=function(e){return Pe(this,e).delete(e)},Oe.prototype.get=function(e){return Pe(this,e).get(e)},Oe.prototype.has=function(e){return Pe(this,e).has(e)},Oe.prototype.set=function(e,t){return Pe(this,e).set(e,t),this},je.prototype.clear=function(){this.__data__=new Ee},je.prototype.delete=function(e){return this.__data__.delete(e)},je.prototype.get=function(e){return this.__data__.get(e)},je.prototype.has=function(e){return this.__data__.has(e)},je.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Ee){var o=r.__data__;if(!pe||o.length<n-1)return o.push([e,t]),this;r=this.__data__=new Oe(o)}return r.set(e,t),this};var qe=ue?K(ue,Object):function(){return[]},Be=function(e){return Q.call(e)};function Me(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||C.test(e))&&e>-1&&e%1==0&&e<t}function De(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||W)}function He(e){if(null!=e){try{return Z.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ze(e,t){return e===t||e!=e&&t!=t}(fe&&Be(new fe(new ArrayBuffer(1)))!=y||pe&&Be(new pe)!=l||de&&"[object Promise]"!=Be(de.resolve())||he&&Be(new he)!=h||ve&&"[object WeakMap]"!=Be(new ve))&&(Be=function(e){var t=Q.call(e),n=t==p?e.constructor:void 0,r=n?He(n):void 0;if(r)switch(r){case me:return y;case ye:return l;case be:return"[object Promise]";case we:return h;case _e:return"[object WeakMap]"}return t});var Ke=Array.isArray;function $e(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}(e.length)&&!Je(e)}var Fe=ce||function(){return!1};function Je(e){var t=Ve(e)?Q.call(e):"";return t==u||t==c}function Ve(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function We(e){return $e(e)?Ae(e):function(e){if(!De(e))return le(e);var t=[];for(var n in Object(e))Y.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}e.exports=function(e){return Ue(e,!0,!0)}}).call(this,n(71)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deepFreeze=function e(t){return t&&(Object.freeze(t),Object.getOwnPropertyNames(t).forEach(function(n){!t.hasOwnProperty(n)||null===t[n]||"object"!=typeof t[n]&&"function"!=typeof t[n]||t[n].constructor===Buffer||Object.isFrozen(t[n])||e(t[n])})),t}},function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(68)),s=n(69),u=i(n(70)),c=n(72);t.syncMemoizer=function(e){var t=new a.default(e),n=e.load,r=e.hash,i=e.bypass,l=e.itemMaxAge,f=e.freeze,p=e.clone,d=new s.EventEmitter,h=Object.assign({del:function(){var e=r.apply(void 0,o(arguments));t.del(e)},reset:function(){return t.reset()},keys:t.keys.bind(t),on:d.on.bind(d),once:d.once.bind(d)},e);if(e.disable)return Object.assign(n,h);function v(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.emit.apply(d,o([e],t))}function g(e){return e&&e.then&&"function"==typeof e.then}function m(e){var t=e;return p&&(t=g(t)?t.then(u.default):u.default(t)),f&&(g(t)?t=t.then(c.deepFreeze):c.deepFreeze(t)),t}return Object.assign(function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];if(i&&i.apply(void 0,o(e)))return v.apply(void 0,o(["miss"],e)),n.apply(void 0,o(e));var s=r.apply(void 0,o(e)),u=t.get(s);if(u)return v.apply(void 0,o(["hit"],e)),m(u);v.apply(void 0,o(["miss"],e));var c=n.apply(void 0,o(e));return l?t.set(s,c,l.apply(void 0,o(e.concat([c])))):t.set(s,c),m(c)},h)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:options).jwksRequestsPerMinute,n=void 0===t?10:t,a=(0,r.default)("jwks"),s=e.getSigningKey,u=new o.RateLimiter(n,"minute",!0);return a("Configured rate limiting to JWKS endpoint at "+n+"/minute"),function(e,t){u.removeTokens(1,function(n,r){return n?t(n):(a("Requests to the JWKS endpoint available for the next minute:",r),r<0?(a("Too many requests to the JWKS endpoint"),t(new i.default("Too many requests to the JWKS endpoint"))):s(e,t))})}};var r=a(n(24)),o=n(75),i=a(n(79));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){t.RateLimiter=n(76),t.TokenBucket=n(77)},function(e,t,n){var r=n(77),o=n(78),i=function(e,t,n){this.tokenBucket=new r(e,e,t,null),this.tokenBucket.content=e,this.curIntervalStart=o(),this.tokensThisInterval=0,this.fireImmediately=n};i.prototype={tokenBucket:null,curIntervalStart:0,tokensThisInterval:0,fireImmediately:!1,removeTokens:function(e,t){if(e>this.tokenBucket.bucketSize)return process.nextTick(t.bind(null,"Requested tokens "+e+" exceeds maximum tokens per interval "+this.tokenBucket.bucketSize,null)),!1;var n=this,r=o();if((r<this.curIntervalStart||r-this.curIntervalStart>=this.tokenBucket.interval)&&(this.curIntervalStart=r,this.tokensThisInterval=0),e>this.tokenBucket.tokensPerInterval-this.tokensThisInterval){if(this.fireImmediately)process.nextTick(t.bind(null,null,-1));else{var i=Math.ceil(this.curIntervalStart+this.tokenBucket.interval-r);setTimeout(function(){n.tokenBucket.removeTokens(e,a)},i)}return!1}return this.tokenBucket.removeTokens(e,a);function a(r,o){if(r)return t(r,null);n.tokensThisInterval+=e,t(null,o)}},tryRemoveTokens:function(e){if(e>this.tokenBucket.bucketSize)return!1;var t=o();if((t<this.curIntervalStart||t-this.curIntervalStart>=this.tokenBucket.interval)&&(this.curIntervalStart=t,this.tokensThisInterval=0),e>this.tokenBucket.tokensPerInterval-this.tokensThisInterval)return!1;var n=this.tokenBucket.tryRemoveTokens(e);return n&&(this.tokensThisInterval+=e),n},getTokensRemaining:function(){return this.tokenBucket.drip(),this.tokenBucket.content}},e.exports=i},function(e,t){var n=function(e,t,n,r){if(this.bucketSize=e,this.tokensPerInterval=t,"string"==typeof n)switch(n){case"sec":case"second":this.interval=1e3;break;case"min":case"minute":this.interval=6e4;break;case"hr":case"hour":this.interval=36e5;break;case"day":this.interval=864e5;break;default:throw new Error("Invaid interval "+n)}else this.interval=n;this.parentBucket=r,this.content=0,this.lastDrip=+new Date};n.prototype={bucketSize:1,tokensPerInterval:1,interval:1e3,parentBucket:null,content:0,lastDrip:0,removeTokens:function(e,t){var n=this;return this.bucketSize?e>this.bucketSize?(process.nextTick(t.bind(null,"Requested tokens "+e+" exceeds bucket size "+this.bucketSize,null)),!1):(this.drip(),e>this.content?r():this.parentBucket?this.parentBucket.removeTokens(e,function(o,i){return o?t(o,null):e>n.content?r():(n.content-=e,void t(null,Math.min(i,n.content)))}):(this.content-=e,process.nextTick(t.bind(null,null,this.content)),!0)):(process.nextTick(t.bind(null,null,e,Number.POSITIVE_INFINITY)),!0);function r(){var r=Math.ceil((e-n.content)*(n.interval/n.tokensPerInterval));return setTimeout(function(){n.removeTokens(e,t)},r),!1}},tryRemoveTokens:function(e){return!this.bucketSize||!(e>this.bucketSize)&&(this.drip(),!(e>this.content)&&(!(this.parentBucket&&!this.parentBucket.tryRemoveTokens(e))&&(this.content-=e,!0)))},drip:function(){if(this.tokensPerInterval){var e=+new Date,t=Math.max(e-this.lastDrip,0);this.lastDrip=e;var n=t*(this.tokensPerInterval/this.interval);this.content=Math.min(this.content+n,this.bucketSize)}else this.content=this.bucketSize}},e.exports=n},function(e,t){e.exports=function(){if("undefined"!=typeof process&&process.hrtime){var e=process.hrtime(),t=e[0],n=e[1];return 1e3*t+Math.floor(n/1e6)}return(new Date).getTime()}},function(e,t,n){"use strict";function r(e){Error.call(this,e),Error.captureStackTrace(this,this.constructor),this.name="JwksRateLimitError",this.message=e}r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SigningKeyNotFoundError=t.JwksRateLimitError=t.JwksError=t.ArgumentError=void 0;var r=s(n(81)),o=s(n(60)),i=s(n(79)),a=s(n(61));function s(e){return e&&e.__esModule?e:{default:e}}t.ArgumentError=r.default,t.JwksError=o.default,t.JwksRateLimitError=i.default,t.SigningKeyNotFoundError=a.default},function(e,t,n){"use strict";function r(e){Error.call(this,e),Error.captureStackTrace(this,this.constructor),this.name="ArgumentError",this.message=e}r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,e.exports=r},function(e,t,n){"use strict";var r=n(80),o=n(23),i=function(e,t){return e&&"SigningKeyNotFoundError"===e.name?t(e,null,null):e?t(e,null,null):void 0};e.exports.hapiJwt2KeyAsync=function(t){var n=e.exports.hapiJwt2Key(t);return function(e){return new Promise(function(t,r){n(e,function(e,n){!n||e?r(e):t({key:n})})})}},e.exports.hapiJwt2Key=function(e){if(null===e||void 0===e)throw new r.ArgumentError("An options object must be provided when initializing hapiJwt2Key");var t=new o.JwksClient(e),n=e.handleSigningKeyError||i;return function(e,r){return e&&e.header?"RS256"!==e.header.alg?r(new Error("Unsupported algorithm "+e.header.alg+" supplied. node-jwks-rsa supports only RS256"),null,null):void t.getSigningKey(e.header.kid,function(e,t){return e?n(e,function(e){return r(e,null,null)}):r(null,t.publicKey||t.rsaPublicKey,t)}):r(new Error("Cannot find a signing certificate if there is no header"),null,null)}}},function(e,t,n){"use strict";var r=n(80),o=n(23),i=function(e,t){return e&&"SigningKeyNotFoundError"===e.name?t(null):e?t(e):void 0};e.exports.expressJwtSecret=function(e){if(null===e||void 0===e)throw new r.ArgumentError("An options object must be provided when initializing expressJwtSecret");var t=new o.JwksClient(e),n=e.handleSigningKeyError||i;return function(e,r,o,i){if(!r||"RS256"!==r.alg)return i(null,null);t.getSigningKey(r.kid,function(e,t){return e?n(e,function(e){return i(e,null)}):i(null,t.publicKey||t.rsaPublicKey)})}}},function(e,t,n){"use strict";var r=n(80),o=n(23);e.exports.koaJwtSecret=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.jwksUri)throw new r.ArgumentError("No JWKS URI provided");var t=new o.JwksClient(e);return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.alg,o=n.kid;return new Promise(function(n,i){if("RS256"!==r)return i(new Error("Missing / invalid token algorithm"));t.getSigningKey(o,function(t,r){if(t)return e.handleSigningKeyError?e.handleSigningKeyError(t).then(i):i(t);n(r.publicKey||r.rsaPublicKey)})})}}},function(e,t,n){"use strict";var r,o=n(13),i=(r=o)&&r.__esModule?r:{default:r},a=n(80),s=n(23);var u=function(e,t){return e&&"SigningKeyNotFoundError"===e.name?t(null):e?t(e):void 0};e.exports.passportJwtSecret=function(e){if(null===e||void 0===e)throw new a.ArgumentError("An options object must be provided when initializing passportJwtSecret");var t=new s.JwksClient(e),n=e.handleSigningKeyError||u;return function(e,r,o){var a=i.default.decode(r,{complete:!0});if(!a||!a.header||"RS256"!==a.header.alg)return o(null,null);t.getSigningKey(a.header.kid,function(e,t){return e?n(e,function(e){return o(e,null)}):o(null,t.publicKey||t.rsaPublicKey)})}}},function(e,t,n){const r=n(3).UnauthorizedError;e.exports=function(e,t,n){return e.user?n():n(new r("Authentication required for this endpoint."))}},function(e,t,n){e.exports=function(e){return function(t,n,r,o){return e&&e(t),t&&t.status?(r.status(t.status),r.json({error:t.code||t.name,message:t.message||t.name})):(r.status(t.status||500),r.json({error:"InternalServerError",message:t.message||t.name}))}}},function(e,t,n){const r=n(3);e.exports=function(e){return function(t,n,o){const i=t,a=t.user&&t.user.access_token&&t.user.access_token.length?{domain:e.domain,accessToken:t.user.access_token,headers:e.headers}:e;r.managementApi.getClient(a).then(function(e){return i.auth0=e,o(),null}).catch(function(e){o(e)})}}},function(e,t,n){const r=n(3);e.exports=function(e,t,n){if(null===e||void 0===e)throw new r.ArgumentError("Must provide the domain");if("string"!=typeof e||0===e.length)throw new r.ArgumentError("The provided domain is invalid: "+e);if(null===t||void 0===t)throw new r.ArgumentError("Must provide the webtaskUrl");if("string"!=typeof t||0===t.length)throw new r.ArgumentError("The provided webtaskUrl is invalid: "+t);if(null===n||void 0===n)throw new r.ArgumentError("Must provide the extensionSecret");if("string"!=typeof n||0===n.length)throw new r.ArgumentError("The provided extensionSecret is invalid: "+n);return function(o){if(null===o||void 0===o)throw new r.ArgumentError("Must provide the hookPath");if("string"!=typeof o||0===o.length)throw new r.ArgumentError("The provided hookPath is invalid: "+o);return function(i,a,s){if(i.headers.authorization&&"Bearer"===i.headers.authorization.split(" ")[0]){const a=i.headers.authorization.split(" ")[1];try{if(r.validateHookToken(e,t,o,n,a))return s()}catch(e){return s(e)}}return s(new r.HookTokenError("Hook token missing for the call to: "+o))}}}},function(e,t,n){const r=n(3);e.exports=function(e){return function(t,n,o){return t.webtaskContext&&e.setProvider(r.configProvider.fromWebtaskContext(t.webtaskContext)),o()}}},function(e,t,n){e.exports.dashboardAdmins=n(92)},function(e,t,n){const r=n(93),o=n(94),i=n(95),a=n(13),s=n(3),u=n(5);e.exports=function(e){if(!e||"object"!=typeof e)throw new s.ArgumentError("Must provide the options");if(null===e.secret||void 0===e.secret)throw new s.ArgumentError("Must provide a valid secret");if("string"!=typeof e.secret||0===e.secret.length)throw new s.ArgumentError("The provided secret is invalid: "+e.secret);if(null===e.audience||void 0===e.audience)throw new s.ArgumentError("Must provide a valid audience");if("string"!=typeof e.audience||0===e.audience.length)throw new s.ArgumentError("The provided audience is invalid: "+e.audience);if(null===e.rta||void 0===e.rta)throw new s.ArgumentError("Must provide a valid rta");if("string"!=typeof e.rta||0===e.rta.length)throw new s.ArgumentError("The provided rta is invalid: "+e.rta);if(null===e.domain||void 0===e.domain)throw new s.ArgumentError("Must provide a valid domain");if("string"!=typeof e.domain||0===e.domain.length)throw new s.ArgumentError("The provided domain is invalid: "+e.domain);if(null===e.baseUrl||void 0===e.baseUrl)throw new s.ArgumentError("Must provide a valid base URL");if("string"!=typeof e.baseUrl||0===e.baseUrl.length)throw new s.ArgumentError("The provided base URL is invalid: "+e.baseUrl);if(null===e.clientName||void 0===e.clientName)throw new s.ArgumentError("Must provide a valid client name");if("string"!=typeof e.clientName||0===e.clientName.length)throw new s.ArgumentError("The provided client name is invalid: "+e.clientName);if(void 0!==e.storageType&&"sessionStorage"!==e.storageType&&"localStorage"!==e.storageType)throw new s.ArgumentError('The storageType must be either "sessionStorage" or "localStorage". Incorrect storageType: '+e.storageType);const t=e.stateKey||"state",n=e.nonceKey||"nonce",c=e.urlPrefix||"",l=e.storageType||"sessionStorage",f=e.storageKey||e.sessionStorageKey||"apiToken",p=new s.SessionManager(e.rta,e.domain,e.baseUrl),d=r.Router();return d.get(c+"/login",function(r,i){const a=u.getBasePath(r),s=o.randomBytes(16).toString("hex"),l=o.randomBytes(16).toString("hex"),f={httpOnly:!0,path:a};i.cookie(t,s,Object.assign({},f,{sameSite:"None",secure:!0})),i.cookie(n,l,Object.assign({},f,{sameSite:"None",secure:!0})),i.cookie(t+"_compat",s,f),i.cookie(n+"_compat",l,f);const d=p.createAuthorizeUrl({redirectUri:u.getBaseUrl(r)+c+"/login/callback",scopes:e.scopes,expiration:e.expiration,nonce:l,state:s});i.redirect(d)}),d.post(c+"/login/callback",i(),function(r,o,i){var c;try{c=a.decode(r.body.id_token)}catch(e){c=null}if(!c)return i(new s.ValidationError("Login failed. Invalid token."));if(r.cookies&&r.cookies[n]&&r.cookies[n]!==c.nonce||r.cookies&&r.cookies[n+"_compat"]&&r.cookies[n+"_compat"]!==c.nonce)return i(new s.ValidationError("Login failed. Nonce mismatch."));if(r.cookies&&r.cookies[t]&&r.cookies[t]!==r.body.state||r.cookies&&r.cookies[t+"_compat"]&&r.cookies[t+"_compat"]!==r.body.state)return i(new s.ValidationError("Login failed. State mismatch."));const d=u.getBasePath(r);return p.create(r.body.id_token,r.body.access_token,{secret:e.secret,issuer:e.baseUrl,audience:e.audience,noAccessToken:e.noAccessToken}).then(function(e){o.clearCookie(t,{path:d}),o.clearCookie(n,{path:d}),o.clearCookie(t+"_compat",{path:d}),o.clearCookie(n+"_compat",{path:d}),o.header("Content-Type","text/html"),o.status(200).send('<html><head><script type="text/javascript">'+l+'.setItem("'+f+'", "'+e+'");window.location.href = "'+u.getBaseUrl(r)+'";<\/script></head></html>')}).catch(function(e){i(e)})}),d.get(c+"/logout",function(r,o){const i=u.getBasePath(r),a=encodeURIComponent(u.getBaseUrl(r));o.clearCookie(t,{path:i}),o.clearCookie(n,{path:i}),o.clearCookie(t+"_compat",{path:i}),o.clearCookie(n+"_compat",{path:i}),o.header("Content-Type","text/html"),o.status(200).send('<html><head><script type="text/javascript">'+l+'.removeItem("'+f+'");window.location.href = "https://'+e.rta+"/v2/logout/?returnTo="+a+"&client_id="+a+'";<\/script></head></html>')}),d.get("/.well-known/oauth2-client-configuration",function(t,n){n.header("Content-Type","application/json"),n.status(200).send({redirect_uris:[u.getBaseUrl(t)+c+"/login/callback"],client_name:e.clientName,post_logout_redirect_uris:[u.getBaseUrl(t)]})}),d}},function(e,t){e.exports=require("express@4.12.4")},function(e,t){e.exports=require("crypto")},function(e,t,n){"use strict";var r=n(96),o=n(97);function i(e){if("string"==typeof e&&"j:"===e.substr(0,2))try{return JSON.parse(e.slice(2))}catch(e){return}}function a(e){for(var t,n,r=Object.keys(e),o=0;o<r.length;o++)(n=i(e[t=r[o]]))&&(e[t]=n);return e}function s(e,t){if("string"==typeof e){if("s:"!==e.substr(0,2))return e;for(var n=!t||Array.isArray(t)?t||[]:[t],r=0;r<n.length;r++){var i=o.unsign(e.slice(2),n[r]);if(!1!==i)return i}return!1}}function u(e,t){for(var n,r,o,i=Object.keys(e),a=Object.create(null),u=0;u<i.length;u++)(o=e[r=i[u]])!==(n=s(o,t))&&(a[r]=n,delete e[r]);return a}e.exports=function(e,t){var n=!e||Array.isArray(e)?e||[]:[e];return function(e,o,i){if(e.cookies)return i();var s=e.headers.cookie;if(e.secret=n[0],e.cookies=Object.create(null),e.signedCookies=Object.create(null),!s)return i();e.cookies=r.parse(s,t),0!==n.length&&(e.signedCookies=u(e.cookies,n),e.signedCookies=a(e.signedCookies)),e.cookies=a(e.cookies),i()}},e.exports.JSONCookie=i,e.exports.JSONCookies=a,e.exports.signedCookie=s,e.exports.signedCookies=u},function(e,t,n){"use strict";t.parse=function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var n={},o=t||{},a=e.split(i),u=o.decode||r,c=0;c<a.length;c++){var l=a[c],f=l.indexOf("=");if(!(f<0)){var p=l.substr(0,f).trim(),d=l.substr(++f,l.length).trim();'"'==d[0]&&(d=d.slice(1,-1)),void 0==n[p]&&(n[p]=s(d,u))}}return n},t.serialize=function(e,t,n){var r=n||{},i=r.encode||o;if("function"!=typeof i)throw new TypeError("option encode is invalid");if(!a.test(e))throw new TypeError("argument name is invalid");var s=i(t);if(s&&!a.test(s))throw new TypeError("argument val is invalid");var u=e+"="+s;if(null!=r.maxAge){var c=r.maxAge-0;if(isNaN(c))throw new Error("maxAge should be a Number");u+="; Max-Age="+Math.floor(c)}if(r.domain){if(!a.test(r.domain))throw new TypeError("option domain is invalid");u+="; Domain="+r.domain}if(r.path){if(!a.test(r.path))throw new TypeError("option path is invalid");u+="; Path="+r.path}if(r.expires){if("function"!=typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");u+="; Expires="+r.expires.toUTCString()}r.httpOnly&&(u+="; HttpOnly");r.secure&&(u+="; Secure");if(r.sameSite){var l="string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite;switch(l){case!0:u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"strict":u+="; SameSite=Strict";break;case"none":u+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return u};var r=decodeURIComponent,o=encodeURIComponent,i=/; */,a=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function s(e,t){try{return t(e)}catch(t){return e}}},function(e,t,n){var r=n(94);function o(e){return r.createHash("sha1").update(e).digest("hex")}t.sign=function(e,t){if("string"!=typeof e)throw new TypeError("Cookie value must be provided as a string.");if("string"!=typeof t)throw new TypeError("Secret string must be provided.");return e+"."+r.createHmac("sha256",t).update(e).digest("base64").replace(/\=+$/,"")},t.unsign=function(e,n){if("string"!=typeof e)throw new TypeError("Signed cookie string must be provided.");if("string"!=typeof n)throw new TypeError("Secret string must be provided.");var r=e.slice(0,e.lastIndexOf("."));return o(t.sign(r,n))==o(e)&&r}},function(e,t,n){"use strict";n.r(t),function(e){var r=n(99),o=n.n(r),i=n(100),a=n.n(i),s=n(93),u=n.n(s),c=n(101),l=n.n(c),f=n(3),p=n(1),d=n(102),h=n(123),v=n(125),g=n(126),m=n.n(g),y=n(106),b=n.n(y),w=n(130);t.default=function(t,n){b.a.setProvider(t);var r=n?new f.WebtaskStorageContext(n,{force:1}):new f.FileStorageContext(o.a.join(e,"./data.json"),{mergeWrites:!0}),i=new u.a;return i.use(a()(":method :url :status :response-time ms - :res[content-length]",{stream:m.a.stream})),i.use(l.a.json()),i.use(l.a.urlencoded({extended:!1})),i.use(p.routes.dashboardAdmins({secret:b()("EXTENSION_SECRET"),audience:"urn:sso-dashboard",rta:b()("AUTH0_RTA").replace("https://",""),domain:b()("AUTH0_DOMAIN"),baseUrl:b()("PUBLIC_URL"),clientName:"SSO Dashboard",urlPrefix:"/admins",sessionStorageKey:"sso-dashboard:apiToken",scopes:"read:clients delete:clients read:connections read:resource_servers create:resource_servers read:client_grants create:client_grants delete:client_grants"})),i.use("/api",Object(d.default)(r)),i.use("/app",u.a.static(o.a.join(e,"../dist"))),i.use("/meta",Object(h.default)()),i.use("/.extensions",Object(v.default)()),i.get("*",Object(w.default)()),i.use(p.middlewares.errorHandler(m.a.error)),i}}.call(this,"/")},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("morgan@1.5.3")},function(e,t){e.exports=require("body-parser@1.12.4")},function(e,t,n){"use strict";n.r(t);var r=n(93),o=n(3),i=n(1),a=(n(103),n(106)),s=n.n(a),u=n(107),c=n(115),l=n(121),f=n(122);t.default=function(e){var t=Object(r.Router)();t.use(i.middlewares.authenticateUsers.optional({domain:s()("IS_APPLIANCE")?s()("AUTH0_DOMAIN"):s()("AUTH0_CUSTOM_DOMAIN"),audience:s()("API_AUDIENCE")||"urn:auth0-sso-dashboard",credentialsRequired:!1,onLoginSuccess:function(e,t,n){return e.user.scope&&e.user.scope.indexOf("manage:applications")>-1&&!e.user.sub.endsWith("@client")?n(new o.ForbiddenError('"manage:applications" scope is not allowed for endusers.')):n()}})),t.use(i.middlewares.authenticateAdmins.optional({credentialsRequired:!1,secret:s()("EXTENSION_SECRET"),audience:"urn:sso-dashboard",baseUrl:s()("PUBLIC_URL"),onLoginSuccess:function(e,t,n){e.user.scope=["read:applications","manage:applications","manage:authorization"],n()}}));var n=i.middlewares.managementApiClient({domain:s()("AUTH0_DOMAIN")});return t.use("/applications",Object(c.default)(n,e)),t.use("/groups",Object(l.default)(e)),t.use("/authorization",Object(f.default)(e)),t.use("/connections",Object(u.default)(n)),t.get("/status",function(e,t){t.json({isAdmin:e.user.scope&&e.user.scope.indexOf("manage:applications")>-1})}),t}},function(e,t,n){!function(){"use strict";var t=n(104),r=n(105),o={origin:"*",methods:"GET,HEAD,PUT,PATCH,POST,DELETE",preflightContinue:!1,optionsSuccessStatus:204};function i(e){return"string"==typeof e||e instanceof String}function a(e,t){var n,r=t.headers.origin,o=[];return e.origin&&"*"!==e.origin?i(e.origin)?(o.push([{key:"Access-Control-Allow-Origin",value:e.origin}]),o.push([{key:"Vary",value:"Origin"}])):(n=function e(t,n){if(Array.isArray(n)){for(var r=0;r<n.length;++r)if(e(t,n[r]))return!0;return!1}return i(n)?t===n:n instanceof RegExp?n.test(t):!!n}(r,e.origin),o.push([{key:"Access-Control-Allow-Origin",value:!!n&&r}]),o.push([{key:"Vary",value:"Origin"}])):o.push([{key:"Access-Control-Allow-Origin",value:"*"}]),o}function s(e){return!0===e.credentials?{key:"Access-Control-Allow-Credentials",value:"true"}:null}function u(e){var t=e.exposedHeaders;return t?(t.join&&(t=t.join(",")),t&&t.length?{key:"Access-Control-Expose-Headers",value:t}:null):null}function c(e,t){for(var n=0,o=e.length;n<o;n++){var i=e[n];i&&(Array.isArray(i)?c(i,t):"Vary"===i.key&&i.value?r(t,i.value):i.value&&t.setHeader(i.key,i.value))}}e.exports=function(e){var n=null;return n="function"==typeof e?e:function(t,n){n(null,e)},function(e,r,i){n(e,function(n,l){if(n)i(n);else{var f=t({},o,l),p=null;f.origin&&"function"==typeof f.origin?p=f.origin:f.origin&&(p=function(e,t){t(null,f.origin)}),p?p(e.headers.origin,function(t,n){t||!n?i(t):(f.origin=n,function(e,t,n,r){var o=[];"OPTIONS"===(t.method&&t.method.toUpperCase&&t.method.toUpperCase())?(o.push(a(e,t)),o.push(s(e)),o.push(function(e){var t=e.methods;return t.join&&(t=e.methods.join(",")),{key:"Access-Control-Allow-Methods",value:t}}(e)),o.push(function(e,t){var n=e.allowedHeaders||e.headers,r=[];return n?n.join&&(n=n.join(",")):(n=t.headers["access-control-request-headers"],r.push([{key:"Vary",value:"Access-Control-Request-Headers"}])),n&&n.length&&r.push([{key:"Access-Control-Allow-Headers",value:n}]),r}(e,t)),o.push(function(e){var t=("number"==typeof e.maxAge||e.maxAge)&&e.maxAge.toString();return t&&t.length?{key:"Access-Control-Max-Age",value:t}:null}(e)),o.push(u(e)),c(o,n),e.preflightContinue?r():(n.statusCode=e.optionsSuccessStatus,n.setHeader("Content-Length","0"),n.end())):(o.push(a(e,t)),o.push(s(e)),o.push(u(e)),c(o,n),r())}(f,e,r,i))}):i()}})}}}()},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,a,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))o.call(n,c)&&(s[c]=n[c]);if(r){a=r(n);for(var l=0;l<a.length;l++)i.call(n,a[l])&&(s[a[l]]=n[a[l]])}}return s}},function(e,t,n){"use strict";e.exports=function(e,t){if(!e||!e.getHeader||!e.setHeader)throw new TypeError("res argument is required");var n=e.getHeader("Vary")||"",r=Array.isArray(n)?n.join(", "):String(n);(n=o(r,t))&&e.setHeader("Vary",n)},e.exports.append=o;var r=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/;function o(e,t){if("string"!=typeof e)throw new TypeError("header argument is required");if(!t)throw new TypeError("field argument is required");for(var n=Array.isArray(t)?t:i(String(t)),o=0;o<n.length;o++)if(!r.test(n[o]))throw new TypeError("field argument contains an invalid header name");if("*"===e)return e;var a=e,s=i(e.toLowerCase());if(-1!==n.indexOf("*")||-1!==s.indexOf("*"))return"*";for(var u=0;u<n.length;u++){var c=n[u].toLowerCase();-1===s.indexOf(c)&&(s.push(c),a=a?a+", "+n[u]:n[u])}return a}function i(e){for(var t=0,n=[],r=0,o=0,i=e.length;o<i;o++)switch(e.charCodeAt(o)){case 32:r===t&&(r=t=o+1);break;case 44:n.push(e.substring(r,t)),r=t=o+1;break;default:t=o+1}return n.push(e.substring(r,t)),n}},function(e,t){var n={},r=null,o=function(e){return"true"===e||"false"===e?"true"===e:e},i=function e(t){if(n&&n[t])return o(n[t]);if(!r)throw new Error("A configuration provider has not been set");return"PUBLIC_URL"===t?r("PUBLIC_URL")||e("PUBLIC_WT_URL"):"AUTH0_CUSTOM_DOMAIN"===t?r("AUTH0_CUSTOM_DOMAIN")||r("AUTH0_DOMAIN"):"IS_APPLIANCE"===t?e("AUTH0_RTA")&&"auth0.auth0.com"!==e("AUTH0_RTA").replace("https://",""):o(r(t))};i.setProvider=function(e){r=e},i.setValue=function(e,t){n[e]=t},e.exports=i},function(e,t,n){"use strict";n.r(t);var r=n(108),o=n.n(r),i=n(93),a=n(109),s=n(111);t.default=function(e){var t=Object(i.Router)();return t.get("/",e,Object(a.requireScope)("manage:applications"),function(e,t,n){Object(s.default)(e.auth0,"connections",{fields:"name"}).then(function(e){return o.a.chain(e).sortBy(function(e){return e.name.toLowerCase()}).value()}).then(function(e){return t.json(e)}).catch(n)}),t}},function(e,t){e.exports=require("lodash@3.10.1")},function(e,t,n){"use strict";n.r(t);var r=n(110);n.d(t,"requireScope",function(){return r.default})},function(e,t,n){"use strict";n.r(t);var r=n(3);t.default=function(e){return function(t,n,o){return!t.user||!t.user.scope||t.user.scope.indexOf(e)<0?o(new r.ForbiddenError(`Cannot perform action. Missing scope ${e}`)):o()}}},function(e,t,n){"use strict";n.r(t);var r=n(112),o=n.n(r),i=n(114),a=n.n(i),s=n(3);t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5;if(null===e||void 0===e)throw new s.ArgumentError("Must provide a auth0 client object.");if(!t&&!e[t])throw new s.ArgumentError("Must provide a valid entity for auth0 client.");var u=e[t].getAll,c=o()({},n,{per_page:r}),l=[],f=0,p=0,d=function(e){return u(o()({},c,{page:e})).then(function(e){return e.forEach(function(e){return l.push(e)}),null})};return u(o()({},c,{include_totals:!0,page:0})).then(function(e){return f=e.total||0,p=Math.ceil(f/r),(e[t]||e||[]).forEach(function(e){return l.push(e)}),null}).then(function(){if(0===f||l.length>=f)return l;for(var e=[],t=1;t<=p;t++)e.push(t);return a.a.map(e,d,{concurrency:i})}).then(function(){return l})}},function(e,t,n){var r=n(113);e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){r(e,t,n[t])})}return e}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t){e.exports=require("bluebird@3.4.6")},function(e,t,n){"use strict";n.r(t);var r=n(112),o=n.n(r),i=n(108),a=n.n(i),s=n(116),u=n.n(s),c=n(93),l=(n(106),n(109)),f=n(118),p=n(120),d=n(111);t.default=function(e,t){var n=Object(c.Router)();return n.get("/clients",e,Object(l.requireScope)("manage:applications"),function(e,t,n){Object(d.default)(e.auth0,"clients",{is_global:!1,fields:"client_id,name,callbacks,app_type"}).then(function(e){return a.a.chain(e).sortBy(function(e){return e.name.toLowerCase()}).value()}).then(function(e){return t.json(e)}).catch(n)}),n.get("/",Object(l.requireScope)("read:applications"),function(e,n,r){var i;t.read().then(function(e){return i=e.applications||{},null}).then(function(){return t.read()}).then(function(t){return e.user["http://sso-dashboard.com/groups"]}).then(function(e){var t={};return Object.keys(i).map(function(n){var r=i[n];return r.enabled&&r.loginUrl&&Object(p.hasGroup)(e,r.groups)&&(t[n]=r),r}),t}).then(function(e){return n.json(a.a.map(e,function(e,t){return o()({},e,{id:t})}))}).catch(r)}),n.get("/all",Object(l.requireScope)("manage:applications"),function(e,n,r){t.read().then(function(e){return n.json(a.a.map(e.applications||{},function(e,t){return o()({},e,{id:t})}))}).catch(r)}),n.get("/:id",Object(l.requireScope)("manage:applications"),function(e,n,r){t.read().then(function(t){return n.json({application:t.applications[e.params.id]})}).catch(r)}),n.put("/:id",Object(l.requireScope)("manage:applications"),function(e,n,r){Object(f.saveApplication)(e.params.id,e.body,t).then(function(){return n.status(204).send()}).catch(r)}),n.patch("/:id/:direction(-[0-9]*|[0-9]*)",Object(l.requireScope)("manage:applications"),function(e,n,r){Object(f.moveApplication)(e.params.id,parseInt(e.params.direction,10),t).then(function(){return n.status(204).send()}).catch(r)}),n.post("/",Object(l.requireScope)("manage:applications"),function(e,n,r){var o=u.a.v4();Object(f.saveApplication)(o,e.body,t).then(function(){return n.status(201).send({id:o})}).catch(r)}),n.delete("/:id",Object(l.requireScope)("manage:applications"),function(e,n,r){Object(f.deleteApplication)(e.params.id,t).then(function(){return n.status(204).send()}).catch(r)}),n}},function(e,t,n){for(var r=n(117),o=[],i={},a=0;a<256;a++)o[a]=(a+256).toString(16).substr(1),i[o[a]]=a;function s(e,t){var n=t||0,r=o;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}var u=r(),c=[1|u[0],u[1],u[2],u[3],u[4],u[5]],l=16383&(u[6]<<8|u[7]),f=0,p=0;function d(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||r)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var a=0;a<16;a++)t[o+a]=i[a];return t||s(i)}var h=d;h.v1=function(e,t,n){var r=t&&n||0,o=t||[],i=void 0!==(e=e||{}).clockseq?e.clockseq:l,a=void 0!==e.msecs?e.msecs:(new Date).getTime(),u=void 0!==e.nsecs?e.nsecs:p+1,d=a-f+(u-p)/1e4;if(d<0&&void 0===e.clockseq&&(i=i+1&16383),(d<0||a>f)&&void 0===e.nsecs&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");f=a,p=u,l=i;var h=(1e4*(268435455&(a+=122192928e5))+u)%4294967296;o[r++]=h>>>24&255,o[r++]=h>>>16&255,o[r++]=h>>>8&255,o[r++]=255&h;var v=a/4294967296*1e4&268435455;o[r++]=v>>>8&255,o[r++]=255&v,o[r++]=v>>>24&15|16,o[r++]=v>>>16&255,o[r++]=i>>>8|128,o[r++]=255&i;for(var g=e.node||c,m=0;m<6;m++)o[r+m]=g[m];return t||s(o)},h.v4=d,h.parse=function(e,t,n){var r=t&&n||0,o=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){o<16&&(t[r+o++]=i[e])});o<16;)t[r+o++]=0;return t},h.unparse=s,e.exports=h},function(e,t,n){var r=n(94).randomBytes;e.exports=function(){return r(16)}},function(e,t,n){"use strict";n.r(t),n.d(t,"saveApplication",function(){return s}),n.d(t,"moveApplication",function(){return u}),n.d(t,"deleteApplication",function(){return c});var r=n(114),o=n.n(r),i=n(3),a=n(119),s=function(e,t,n){return new o.a(function(r,o){var i={name:t.name,client:t.client,enabled:t.enabled,type:t.type,logo:t.logo,connection:t.connection,groups:Array.isArray(t.groups)?t.groups:[t.groups],callback:t.callback,customURL:t.customURL,customURLEnabled:t.customURLEnabled};"oidc"===t.type&&(i.response_type=t.response_type||"code",i.scope=t.scope||"openid"),i.loginUrl=Object(a.default)(i),n.read().then(function(t){return(t=t||{}).applications=t.applications||{},t.applications[e]=i,n.write(t).then(r).catch(o)}).catch(o)})},u=function(e,t,n){return n.read().then(function(r){r.applications=r.applications||{};var a=Object.keys(r.applications),s=a.indexOf(e),u=s+t;if(s<0)return o.a.reject(new i.NotFoundError(`Application "${e}" not found.`));if(u>=0&&u<a.length){var c={};return a.splice(u,0,a.splice(s,1)[0]),a.forEach(function(e){c[e]=r.applications[e]}),r.applications=c,n.write(r)}return o.a.reject(new i.ArgumentError(`Application "${e}" cannot be moved to "${u}" position.`))})},c=function(e,t){return new o.a(function(n,r){t.read().then(function(o){return o.applications[e]=null,delete o.applications[e],t.write(o).then(n).catch(r)}).catch(r)})}},function(e,t,n){"use strict";n.r(t);var r=n(106),o=n.n(r);t.default=function(e){var t=e.type,n=e.callback||"",r=o()("AUTH0_CUSTOM_DOMAIN"),i=e.client,a=e.response_type||"code",s=e.scope||"openid",u="";switch(t){case"saml":u=`https://${r}/samlp/${i}`;break;case"wsfed":u=`https://${r}/wsfed/${i}?wreply=${n}`;break;default:case"oidc":u=`https://${r}/authorize?response_type=${a}&scope=${s}&client_id=${i}&redirect_uri=${encodeURIComponent(n)}`}e.connection&&(u+=`${u.indexOf("?")<0?"?":"&"}${"wsfed"===t?"whr":"connection"}=${e.connection}`);return u}},function(e,t,n){"use strict";n.r(t),n.d(t,"hasGroup",function(){return i});var r=n(108),o=n.n(r),i=function(e,t){if(!t||0===t.length||1===t.length&&!t[0])return!0;var n=o.a.intersection(e,t);return n&&n.length>=1}},function(e,t,n){"use strict";n.r(t);var r=n(93),o=n(106),i=n.n(o),a=n(109);t.default=function(e){var t=Object(r.Router)();return t.get("/",Object(a.requireScope)("manage:applications"),function(e,t,n){var r=i()("USER_GROUPS");return r?t.json(r.split(",").map(function(e){return e.trim()}).map(function(e){return{_id:e,name:e}})):t.json([])}),t}},function(e,t,n){"use strict";n.r(t);var r=n(93),o=n(106),i=n.n(o),a=n(109);t.default=function(e){var t=Object(r.Router)();return t.get("/",Object(a.requireScope)("manage:authorization"),function(e,t,n){var r=!!i()("USER_GROUPS");return t.json({authorizationApiAvailable:r,authorizationEnabled:r})}),t}},function(e,t,n){"use strict";n.r(t);var r=n(93),o=n.n(r),i=n(124);t.default=function(){var e=o.a.Router();return e.get("/",function(e,t){t.status(200).send(i)}),e}},function(e){e.exports=JSON.parse('{"title":"Custom SSO Dashboard","name":"sso-dashboard","version":"2.4.0","preVersion":"2.2.1","author":"Dan Baker","useHashName":false,"description":"This extension provides your users with a dashboard for all of their applications.","type":"application","category":"end_user","logoUrl":"https://cdn.auth0.com/extensions/auth0-sso-dashboard/assets/logo.svg","initialUrlPath":"/admins/login","codeUrl":"https://raw.githubusercontent.com/danielbaker/auth0-sso-dashboard-extension/master/build/bundle.js","repository":"https://github.com/danielbaker/auth0-sso-dashboard-extension","keywords":["extension"],"auth0":{"createClient":true,"onUninstallPath":"/.extensions/on-uninstall","onInstallPath":"/.extensions/on-install","onUpdatePath":"/.extensions/on-update","scopes":"read:clients delete:clients read:connections read:resource_servers create:resource_servers read:client_grants create:client_grants delete:client_grants"},"secrets":{"EXTENSION_CLIENT_ID":{"description":"Client ID of the application you created in the Auth0 Management Dashboard","required":true},"TITLE":{"description":"Custom title for the dashboard","example":"Fabrikam SSO Dashboard","required":false},"CUSTOM_CSS":{"description":"A CSS file containing custom styles for the extension","example":"https://cdn.fabrikam.com/static/extensions/theme/fabrikam.css","required":false},"AUTH0_CUSTOM_DOMAIN":{"description":"Custom domain","example":"example.com","required":false},"PUBLIC_URL":{"description":"URL that will serve the dashboard. This must be configued externally via reverse proxy","example":"sso.company.com","required":false},"FAVICON_URL":{"description":"URL to find dashboard favicon","example":"https://example.com/favicon.ico","required":false},"USER_GROUPS":{"description":"A comma separated list of groups that users can belong to giving them access to different applications","example":"admins,users","required":false}}}')},function(e,t,n){"use strict";n.r(t);var r=n(93),o=n(1),i=n(106),a=n.n(i),s=n(126),u=n.n(s),c=n(128);t.default=function(){var e=Object(r.Router)(),t=o.middlewares.validateHookToken(a()("AUTH0_DOMAIN"),a()("WT_URL"),a()("EXTENSION_SECRET"));return e.use("/on-install",t("/.extensions/on-install")),e.use("/on-update",t("/.extensions/on-update")),e.use("/on-uninstall",t("/.extensions/on-uninstall")),e.use(o.middlewares.managementApiClient({domain:a()("AUTH0_DOMAIN"),clientId:a()("AUTH0_CLIENT_ID"),clientSecret:a()("AUTH0_CLIENT_SECRET")})),e.post("/on-install",function(e,t){Object(c.getResourceServer)(e,"urn:auth0-sso-dashboard").then(function(t){return t?Promise.resolve():Object(c.createResourceServer)(e)}).then(function(){u.a.debug("Resource server for the SSO Dashboard extension created.")}).then(function(){t.sendStatus(204)}).catch(function(e){u.a.debug("Error deploying resources for the SSO Dashboard extension."),u.a.error(e),t.sendStatus(400)})}),e.put("/on-update",function(e,t){Object(c.getResourceServer)(e,"urn:auth0-sso-dashboard").then(function(t){return t?Promise.resolve():Object(c.createResourceServer)(e)}).then(function(){u.a.debug("Resource server for the SSO Dashboard extension created.")}).then(function(){t.sendStatus(204)}).catch(function(e){u.a.debug("Error deploying resources for the SSO Dashboard extension."),u.a.error(e),t.sendStatus(400)})}),e.delete("/on-uninstall",function(e,t){var n=a()("AUTH0_CLIENT_ID");Object(c.deleteResourceServer)(e).then(function(){return e.auth0.clients.delete({client_id:n})}).then(function(){u.a.debug(`Deleted client ${n}`),t.sendStatus(204)}).catch(function(e){u.a.debug(`Error deleting client: ${a()("AUTH0_CLIENT_ID")}`),u.a.error(e),t.sendStatus(204)})}),e}},function(e,t,n){var r=n(127);r.emitErrs=!0;var o=new r.Logger({transports:[new r.transports.Console({timestamp:!0,level:"debug",handleExceptions:!0,json:!1,colorize:!0})],exitOnError:!1});e.exports=o,e.exports.stream={write:function(e){o.info(e.replace(/\n$/,""))}}},function(e,t){e.exports=require("winston@1.0.0")},function(e,t,n){"use strict";n.r(t),n.d(t,"getResourceServer",function(){return d}),n.d(t,"createResourceServer",function(){return h}),n.d(t,"deleteResourceServer",function(){return v}),n.d(t,"addGrant",function(){return g}),n.d(t,"removeGrant",function(){return m});n(108);var r=n(114),o=n.n(r),i=n(129),a=n.n(i),s=n(3),u=n(106),c=n.n(u),l=n(126),f=n.n(l),p=function(e,t,n,r){return new o.a(function(i,u){return function(e){return e.user&&e.user.access_token&&e.user.access_token.length?o.a.resolve(e.user.access_token):s.managementApi.getAccessTokenCached(c()("AUTH0_DOMAIN"),c()("AUTH0_CLIENT_ID"),c()("AUTH0_CLIENT_SECRET"))}(e).then(function(e){a()(n,`https://${c()("AUTH0_DOMAIN")}/api/v2/${t}`).send(r||{}).set("Content-Type","application/json").set("Authorization",`Bearer ${e}`).end(function(e,t){return e?(f.a.error(t.body),u(e)):i(t.body)})})})},d=function(e,t){return p(e,"resource-servers","GET").then(function(e){var n=e.filter(function(e){return e.identifier===t});return n.length&&n[0]})},h=function(e){var t={name:c()("API_NAME")||"SSO Dashboard API",identifier:c()("API_AUDIENCE")||"urn:auth0-sso-dashboard",signing_alg:"RS256",scopes:[{value:"read:applications",description:"Get applications"},{value:"manage:applications",description:"Manage applications"}],token_lifetime:86400};return p(e,"resource-servers","POST",t)},v=function(e){return d(e,"urn:auth0-sso-dashboard").then(function(t){return t.id?p(e,`resource-servers/${t.id}`,"DELETE"):o.a.resolve()})},g=function(e){return p(e,"client-grants","POST",{client_id:c()("AUTH0_CLIENT_ID"),audience:"urn:auth0-authz-api",scope:["read:users","read:groups"]})},m=function(e){return function(e){return p(e,"client-grants","GET").then(function(e){return e.filter(function(e){return e.client_id===c()("AUTH0_CLIENT_ID")&&"urn:auth0-authz-api"===e.audience})}).then(function(e){return e[0]&&e[0].id})}(e).then(function(t){return t?p(e,`client-grants/${t}`,"DELETE"):o.a.resolve()})}},function(e,t){e.exports=require("superagent@1.2.0")},function(e,t,n){"use strict";n.r(t),function(e){n(112),n(131);var r=n(132),o=n.n(r),i=(n(99),n(1)),a=n(106),s=n.n(a);t.default=function(){var e='\n  <!DOCTYPE html>\n  <html lang="en">\n  <head>\n    <title><%= config.TITLE %></title>\n    <meta charset="UTF-8" />\n    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />\n    <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n    <% if (assets.favicon) { %><link rel="shortcut icon" href="<%= assets.favicon %>"><% } %>\n    <meta name="viewport" content="width=device-width, initial-scale=1">\n    <link rel="stylesheet" type="text/css" href="https://cdn.auth0.com/styles/zocial.min.css" />\n    <link rel="stylesheet" type="text/css" href="https://cdn.auth0.com/manage/v0.3.1672/css/index.min.css" />\n    <link rel="stylesheet" type="text/css" href="https://cdn.auth0.com/styleguide/4.6.13/index.min.css" />\n    <% if (assets.style) { %><link rel="stylesheet" type="text/css" href="/app/<%= assets.style %>" /><% } %>\n    <% if (assets.version) { %><link rel="stylesheet" type="text/css" href="//cdn.auth0.com/extensions/auth0-sso-dashboard/assets/auth0-sso-dashboard.ui.<%= assets.version %>.css" /><% } %>\n    <% if (assets.customCss) { %><link rel="stylesheet" type="text/css" href="<%= assets.customCss %>" /><% } %>\n  </head>\n  <body>\n    <div id="app"></div>\n    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/es6-shim/0.35.5/es6-shim.min.js"><\/script>\n    <script type="text/javascript" src="//cdn.auth0.com/js/auth0/8.6/auth0.min.js"><\/script>\n    <script type="text/javascript" src="//cdn.auth0.com/manage/v0.3.1672/js/bundle.js"><\/script>\n    <script type="text/javascript">window.config = <%- JSON.stringify(config) %>;<\/script>\n    <% if (assets.vendors) { %><script type="text/javascript" src="/app/<%= assets.vendors %>"><\/script><% } %>\n    <% if (assets.app) { %><script type="text/javascript" src="/app/<%= assets.app %>"><\/script><% } %>\n    <% if (assets.bundle) { %><script type="text/javascript" src="<%= assets.bundle %>"><\/script><% } %>\n    <% if (assets.version) { %>\n    <script type="text/javascript" src="//cdn.auth0.com/extensions/auth0-sso-dashboard/assets/auth0-sso-dashboard.ui.vendors.<%= assets.version %>.js"><\/script>\n    <script type="text/javascript" src="//cdn.auth0.com/extensions/auth0-sso-dashboard/assets/auth0-sso-dashboard.ui.<%= assets.version %>.js"><\/script>\n    <% } %>\n  </body>\n  </html>\n  ';return function(t,n,r){if(0===t.url.indexOf("/api"))return r();var a={AUTH0_CUSTOM_DOMAIN:s()("AUTH0_CUSTOM_DOMAIN"),AUTH0_DOMAIN:s()("AUTH0_DOMAIN"),IS_APPLIANCE:s()("IS_APPLIANCE"),AUTH0_CLIENT_ID:s()("EXTENSION_CLIENT_ID"),AUTH0_MANAGE_URL:s()("AUTH0_MANAGE_URL")||"https://manage.auth0.com",ALLOW_AUTHZ:s()("ALLOW_AUTHZ"),BASE_URL:s()("PUBLIC_URL"),BASE_PATH:i.urlHelpers.getBasePath(t),TITLE:s()("TITLE")};return n.send(o.a.render(e,{config:a,assets:{customCss:s()("CUSTOM_CSS"),favicon:s()("FAVICON_URL"),version:"2.4.0"}}))}}}.call(this,"/")},function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("ejs@2.3.1")}]);